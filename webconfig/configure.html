<!doctype html>
<html>
   <script>
      //Change this for app vs. web version. File names should be configure.html for web version and configureForApp.html for app version.
      //var platform = "app";
     var platform = "web";
   </script>
   <head>
      <meta charset="utf-8" />
      <title>WARBL Configuration</title>
      <meta name="viewport" content="width=device-width, maximum-scale=1.0"/>
      <meta name="description" content="WARBL Configuration Tool" />
      <meta name="author" content="Andrew Mowry" />
      <link href="css/nouislider.css" rel="stylesheet" type="text/css" />
      <link href="css/config.min.css" rel="stylesheet" type="text/css" />
      <link href="css/modal.css" rel="stylesheet" type="text/css" />
      <link rel="manifest" href="https://warbl.xyz/manifest.json">
      <style>
         .topnav.responsive {
         background: transparent;
         }
         .import-export {
         text-align: center;
         }
      </style>
      <script>

         //
         // Are we on iOS?
         //
         function isIOS() {
            if (/iPad|iPhone|iPod/.test(navigator.platform)) {
				platform = "app";
               return true;
            } else {
               return( (navigator.maxTouchPoints && navigator.maxTouchPoints > 2 && /MacIntel/.test(navigator.platform))
               ||
               (navigator.maxTouchPoints && navigator.maxTouchPoints > 2 && /iPad/.test(navigator.platform))
               );
            }
         }
         
         if (window.isSecureContext) {
             // Page is a secure context so service workers are now available
         
             console.log("secure");
         }

         // Register service worker (not on iOS or iPad requesting desktop site)
         if ((!isIOS()) && ('serviceWorker' in navigator)){
            navigator.serviceWorker.register('https://warbl.xyz/service_worker.js',{updateViaCache: "none"})
            .then(reg => {
               console.log("Service Worker Registered!");
            })
            .catch(err => {
               console.log("Service Worker Registration failed: "+err);
            });
         }  

      </script>
   </head>
   <body>
      <div id="topLogo" class="toplogo">
         <a href="index.html">
         <img src="img/small_logo.png" width="50" />
         </a>
      </div>
      <div class="topnav" id="myTopnav">
         <a href="index.html">Home</a>
         <a href="https://warbl.xyz/documentation.html">Documentation</a>
         <a class="toplink" href="https://warbl.xyz/videos.html">Videos</a>
         <a href="https://warbl.xyz/purchase.html">Purchase</a>
         <a href="https://warbl.xyz/FAQ.html">FAQ</a>
         <a href="https://warbl.xyz/contact.html">Contact</a>
         <a href="https://warbl.xyz/Bio.html" >Bio</a>
         <a href="https://warbl.xyz/phpbb/">Forum</a>
         <a style="cursor: pointer;" onclick="UpdateToLatestVersion();">Update Tool</p>
         <a class="active" href="https://warbl.xyz/configure.html">Configure WARBL</a>
         <a href="javascript:void(0);" class="icon" onClick="topNavFunction()">
         <object class = "info" data="img/bars.svg" type="image/svg+xml"></object>
         </a>
      </div>
      <div class="pagewrapper">
         <div id="topcontrolbox">
            <div class="topheader noTouch">
               <h1>
                  WARBL Configuration Tool
                  <button type="button" class="infocircle" onClick="modal(10)"><img  class = "info" src="img/info-circle.svg"></img></button>
               </h1>
               <button type="button" class="headerbuttons noTouch" id="connect" onClick="connect()">Connect to WARBL</button>
               <span class="leddot" id="leddot1"></span>
               <div class="volume">
                  <button type="button" id="on"><img class = "info" id = "volumeOff" src="img/volume-off.svg"></img><img class = "info" id = "volumeOn" src="img/volume-up.svg"></img></button>
               </div>
               <p id="status" class="noTouch">WARBL not detected.</p>
               <p hidden=hidden id="refresh" class="noTouch">Refresh browser (F5) to update status.</p>
               <p id="versionLabel" class="noTouch">WARBL firmware version:</p>
               <p id="version" class="noTouch">Unknown</p>
               <p id="current" class="noTouch">Your firmware is up to date.</p>

               <div class="tinyDeviceLabel noTouch" id="tinyDeviceLabel">Device:</div>
               <div class="midiSelector" id="midiSelector">
                  <div class="styled-select2 blue semi-square">
                     <select id="midiDeviceSelector" onChange="midiDeviceSelected(value)">
                        <option selected="selected" value="0">Auto</option>
                     </select>
                  </div>
               </div>

               <button type="button" class="smallbutton noTouch openConsole" onClick="modal(18)">MIDI Console...</button>
               <div class="tinyConsoleLabel noTouch">MIDI Note:</div>
               <div class="tinyConsoleContainer">
                  <input class="tinyConsole noTouch" type="text" id="tinyConsole"/>
               </div>
            </div>
            <div class="middleControlBox">
               <div class="fingeringRadio">
                  <div class="tab tab0">
                     <input type="radio" value="0" name="quality" id="fingering0" onChange="sendFingeringRadio(value)" checked=checked />
                     <label for="fingering0">
                        <span><span></span></span>
                        <div class="fingeringLabelDiv" id="fingeringLabel1">Tin whistle/flute</div>
                        <div class="instrument" id=instrument1Label>Instrument 1:</div>
                     </label>
                  </div>
                  <div class="tab tab1">
                     <input type="radio" value="1" name="quality" id="fingering1" onChange="sendFingeringRadio(value)" />
                     <label for="fingering1">
                        <span><span></span></span>
                        <div class="fingeringLabelDiv" id="fingeringLabel2">Tin whistle/flute</div>
                        <div class="instrument" id=instrument2Label>Instrument 2:</div>
                     </label>
                  </div>
                  <div class="tab tab2">
                     <input type="radio" value="2" name="quality" id="fingering2" onChange="sendFingeringRadio(value)" />
                     <label for="fingering2">
                        <span><span></span></span>
                        <div class="fingeringLabelDiv" id="fingeringLabel3">Tin whistle/flute</div>
                        <div class="instrument" id=instrument3Label>Instrument 3:</div>
                     </label>
                  </div>
               </div>
               <div class="tabBorder"></div>
               <div class="tabBorder1"></div>
               <div id="customControls">
                  <h2 class="controlboxtitle noTouch" id="customControlsHeader">
                     Custom Fingering Configuration
                     <button type="button" class="infocircle" onClick="modal(30)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <div id="customChart">
                     <div class="customFingeringLabel noTouch">Fingering pattern</div>
                     <div class="MIDILabel noTouch">MIDI Note</div>
                     <div class="customThumbLabel noTouch">thumb</div>
                     <div class="customR4Label noTouch">R4</div>
                     <div class="fingering" id="fingering1">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <div class="fingering" id="fingering2">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <div class="fingering" id="fingering3">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <div class="fingering" id="fingering4">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <div class="fingering" id="fingering5">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <div class="fingering" id="fingering6">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <div class="fingering" id="fingering7">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <div class="fingering" id="fingering8">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <div class="fingering" id="fingering9">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <div class="fingering" id="fingering10">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <div class="fingering" id="fingering11">
                        <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                           xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                           viewBox="0 0 792 612" xml:space="preserve">
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="140.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="160.123" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="188.104" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="214.207" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="247.269" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="275.739" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="310.605" cy="425.345" r="7.56" />
                           <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                        </svg>
                     </div>
                     <input class="fingeringInput" id="fingeringInput1" type="text" onChange="fingeringInput(1,value)" />
                     <input class="fingeringInput" id="fingeringInput2" type="text" onChange="fingeringInput(2,value)" />
                     <input class="fingeringInput" id="fingeringInput3" type="text" onChange="fingeringInput(3,value)" />
                     <input class="fingeringInput" id="fingeringInput4" type="text" onChange="fingeringInput(4,value)" />
                     <input class="fingeringInput" id="fingeringInput5" type="text" onChange="fingeringInput(5,value)" />
                     <input class="fingeringInput" id="fingeringInput6" type="text" onChange="fingeringInput(6,value)" />
                     <input class="fingeringInput" id="fingeringInput7" type="text" onChange="fingeringInput(7,value)" />
                     <input class="fingeringInput" id="fingeringInput8" type="text" onChange="fingeringInput(8,value)" />
                     <input class="fingeringInput" id="fingeringInput9" type="text" onChange="fingeringInput(9,value)" />
                     <input class="fingeringInput" id="fingeringInput10" type="text" onChange="fingeringInput(10,value)" />
                     <input class="fingeringInput" id="fingeringInput11" type="text" onChange="fingeringInput(11,value)" />
                  </div>
                  <div class="fingering" id="whiteHole">
                     <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                        viewBox="0 0 792 612" xml:space="preserve">
                        <circle fill="#C3C0C0" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                     </svg>
                  </div>
                  <div class="fingering" id="blackHole">
                     <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                        viewBox="0 0 792 612" xml:space="preserve">
                        <circle fill="#262626" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                     </svg>
                  </div>
                  <div class="fingering" id="grayHole">
                     <svg version="1.1" baseProfile="tiny" id="WARBL_3.0_top_holes"
                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="792px" height="612px"
                        viewBox="0 0 792 612" xml:space="preserve">
                        <circle fill="#555" stroke="none" stroke-linecap="round" stroke-linejoin="round" cx="350.453" cy="425.345" r="7.56" />
                     </svg>
                  </div>
                  <div class="blackHoleLabel noTouch">Covered hole</div>
                  <div class="whiteHoleLabel noTouch">Open hole</div>
                  <div class="grayHoleLabel noTouch">No effect</div>
                  <div class="asterisk noTouch">*</div>
                  <div class="asteriskLabel noTouch">* Enter "0" to ignore thumb hole</div>
                  <div class="customFillContainer">
                     <div class="styled-fingering-select blue semi-square" id="customFingeringFillContainer">
                        <select id="customFingeringFill" onChange="modal(22)">
                           <option disabled=disabled selected=selected value="12">Select to repopulate chart:</option>
                           <option value="2">Tin whistle/flute</option>
                           <option value="1">Tin whistle/flute minor</option>
                           <option value="3">Blues hexatonic</option>
                           <option value="0">Clear chart</option>
                        </select>
                     </div>
                  </div>
                  <button type="button" class="smallbutton noTouch customFingeringOkay" onClick="customFingeringOkay()">OK</button>
                  <div class="bothLabel noTouch">Use both thumb and overblowing for register control</div>
                  <label class="switch" id="switch17">
                  <input type="checkbox" class="checkboxes" id="checkbox17" onChange="sendBoth(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <div class="R4Label noTouch">R4 finger flattens any note one semitome</div>
                  <label class="switch" id="switch18">
                  <input type="checkbox" class="checkboxes" id="checkbox18" onChange="sendR4flatten(this.checked)" />
                  <span class="slider round"></span>
                  </label>
               </div>
               <div id="WARBL2customControls">
                  <h2 class="controlboxtitle noTouch" id="WARBL2customControlsHeader">
                     Custom Fingering Configuration
                     <button type="button" class="infocircle" onClick="modal(19)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <textarea placeholder="Paste custom chart here" id="WARBL2CustomTextArea"></textarea>
                  <button type="button" class="smallbutton noTouch WARBL2customFingeringOkay" onClick="customFingeringOkay()">BACK</button>
                  <div class="WARBL2customFillContainer">
                     <div class="styled-fingering-select blue semi-square" id="WARBL2customFingeringFillContainer">
                        <select id="WARBL2customFingeringFill" onChange="modal(24)">
                           <option disabled=disabled selected=selected value="10">Then select location:</option>
                           <option value="0">Custom chart 1</option>
                           <option value="1">Custom chart 2</option>
                           <option value="2">Custom chart 3</option>
                           <option value="3">Custom chart 4</option>
                        </select>
                     </div>
                  </div>
               </div>
               <div id="topControls">
                  <div class="fingeringSelectLabel noTouch">Fingering pattern</div>
                  <button type="button" class="defaultInstrumentButton headerbuttons noTouch" id="defaultInstrument" onClick="defaultInstrument()">Set as Default</button>
                  <div class="fingeringSelectContainer">
                     <div class="styled-fingering-select blue semi-square" id="instrument0">
                        <select id="fingeringSelect0" onChange="sendFingeringSelect(0,value)">
                           <option value="0">Tin whistle/flute</option>
                           <option value="4">Tin whistle/flute, chromatic</option>
                           <option value="10">Uilleann pipes, standard</option>
                           <option value="1">Uilleann pipes, chromatic</option>
                           <option value="2">GHB/Scottish smallpipes</option>
                           <option value="3">Northumbrian smallpipes</option>
                           <option value="5">Gaita</option>
                           <option value="13">Gaita, extended</option>
                           <option value="6">Native American flute</option>
                           <option value="7">Kaval</option>
                           <option value="8">Soprano recorder</option>
                           <option value="11">Xiao</option>
                           <option value="12">Saxophone, extended</option>
                           <option value="14">Saxophone, basic</option>
                           <option value="15">Trumpet/EVI</option>
                           <option value="16">Shakuhachi</option>
                           <option value="17">Säckpipa (major)</option>
                           <option value="18">Säckpipa (minor)</option>
                           <option value="20">Bombarde</option>
                           <option value="21">Baroque flute</option>
                           <option value="22">Medieval bagpipes</option>
                           <option value="9">Bansuri</option>
                           <option value="67">Custom 1</option>
                           <option value="68">Custom 2</option>
                           <option value="69">Custom 3</option>
                           <option value="70">Custom 4</option>
                        </select>
                     </div>
                     <div class="styled-fingering-select blue semi-square" id="instrument1">
                        <select id="fingeringSelect1" onChange="sendFingeringSelect(1,value)">
                           <option value="0">Tin whistle/flute</option>
                           <option value="4">Tin whistle/flute, chromatic</option>
                           <option selected="selected" value="10">Uilleann pipes, standard</option>
                           <option value="1">Uilleann pipes, chromatic</option>
                           <option value="2">GHB/Scottish smallpipes</option>
                           <option value="3">Northumbrian smallpipes</option>
                           <option value="5">Gaita</option>
                           <option value="13">Gaita, extended</option>
                           <option value="6">Native American flute</option>
                           <option value="7">Kaval</option>
                           <option value="8">Soprano recorder</option>
                           <option value="11">Xiao</option>
                           <option value="12">Saxophone, extended</option>
                           <option value="14">Saxophone, basic</option>
                           <option value="15">Trumpet/EVI</option>
                           <option value="16">Shakuhachi</option>
                           <option value="17">Säckpipa (major)</option>
                           <option value="18">Säckpipa (minor)</option>
                           <option value="20">Bombarde</option>
                           <option value="21">Baroque flute</option>
                           <option value="22">Medieval bagpipes</option>
                           <option value="9">Bansuri</option>
                           <option value="67">Custom 1</option>
                           <option value="68">Custom 2</option>
                           <option value="69">Custom 3</option>
                           <option value="70">Custom 4</option>
                        </select>
                     </div>
                     <div class="styled-fingering-select blue semi-square" id="instrument2">
                        <select id="fingeringSelect2" onChange="sendFingeringSelect(2,value)">
                           <option value="0">Tin whistle/flute</option>
                           <option value="4">Tin whistle/flute, chromatic</option>
                           <option value="10">Uilleann pipes, standard</option>
                           <option value="1">Uilleann pipes, chromatic</option>
                           <option selected="selected" value="2">GHB/Scottish smallpipes</option>
                           <option value="3">Northumbrian smallpipes</option>
                           <option value="5">Gaita</option>
                           <option value="13">Gaita, extended</option>
                           <option value="6">Native American flute</option>
                           <option value="7">Kaval</option>
                           <option value="8">Soprano recorder</option>
                           <option value="11">Xiao</option>
                           <option value="12">Saxophone, extended</option>
                           <option value="14">Saxophone, basic</option>
                           <option value="15">Trumpet/EVI</option>
                           <option value="16">Shakuhachi</option>
                           <option value="17">Säckpipa (major)</option>
                           <option value="18">Säckpipa (minor)</option>
                           <option value="20">Bombarde</option>
                           <option value="21">Baroque flute</option>
                           <option value="22">Medieval bagpipes</option>
                           <option value="9">Bansuri</option>
                           <option value="67">Custom 1</option>
                           <option value="68">Custom 2</option>
                           <option value="69">Custom 3</option>
                           <option value="70">Custom 4</option>
                        </select>
                     </div>
                  </div>
                  <div id = "keyLabel" class="keySelectLabel noTouch">Transpose</div>
                  <div class="keySelectContainer">
                     <div class="styled-key-select blue semi-square" id="key0">
                        <select name="keySelect" id="keySelect0" onChange="sendKey(0,value)">
                           <option value="109">-18</option>
                           <option value="110">-17</option>
                           <option value="111">-16</option>
                           <option value="112">-15</option>
                           <option value="113">-14</option>
                           <option value="114">-13</option>
                           <option value="115">-12</option>
                           <option value="116">-11</option>
                           <option value="117">-10</option>
                           <option value="118">-9</option>
                           <option value="119">-8</option>
                           <option value="120">-7</option>
                           <option value="121">-6</option>
                           <option value="122">-5</option>
                           <option value="123">-4</option>
                           <option value="124">-3</option>
                           <option value="125">-2</option>
                           <option value="126">-1</option>
                           <option selected="selected" value="0">0</option>
                           <option value="1">+1</option>
                           <option value="2">+2</option>
                           <option value="3">+3</option>
                           <option value="4">+4</option>
                           <option value="5">+5</option>
                           <option value="6">+6</option>
                           <option value="7">+7</option>
                           <option value="8">+8</option>
                           <option value="9">+9</option>
                           <option value="10">+10</option>
                           <option value="11">+11</option>
                           <option value="12">+12</option>
                           <option value="13">+13</option>
                           <option value="14">+14</option>
                           <option value="15">+15</option>
                           <option value="16">+16</option>
                           <option value="17">+17</option>
                           <option value="18">+18</option>
                        </select>
                     </div>
                     <div class="styled-key-select blue semi-square" id="key1">
                        <select name="keySelect" id="keySelect1" onChange="sendKey(1,value)">
                           <option value="109">-18</option>
                           <option value="110">-17</option>
                           <option value="111">-16</option>
                           <option value="112">-15</option>
                           <option value="113">-14</option>
                           <option value="114">-13</option>
                           <option value="115">-12</option>
                           <option value="116">-11</option>
                           <option value="117">-10</option>
                           <option value="118">-9</option>
                           <option value="119">-8</option>
                           <option value="120">-7</option>
                           <option value="121">-6</option>
                           <option value="122">-5</option>
                           <option value="123">-4</option>
                           <option value="124">-3</option>
                           <option value="125">-2</option>
                           <option value="126">-1</option>
                           <option selected="selected" value="0">0</option>
                           <option value="1">+1</option>
                           <option value="2">+2</option>
                           <option value="3">+3</option>
                           <option value="4">+4</option>
                           <option value="5">+5</option>
                           <option value="6">+6</option>
                           <option value="7">+7</option>
                           <option value="8">+8</option>
                           <option value="9">+9</option>
                           <option value="10">+10</option>
                           <option value="11">+11</option>
                           <option value="12">+12</option>
                           <option value="13">+13</option>
                           <option value="14">+14</option>
                           <option value="15">+15</option>
                           <option value="16"> +16</option>
                           <option value="17">+17</option>
                           <option value="18">+18</option>
                        </select>
                     </div>
                     <div class="styled-key-select blue semi-square" id="key2">
                        <select name="keySelect" id="keySelect2" onChange="sendKey(2,value)">
                           <option value="109">-18</option>
                           <option value="110">-17</option>
                           <option value="111">-16</option>
                           <option value="112">-15</option>
                           <option value="113">-14</option>
                           <option value="114">-13</option>
                           <option value="115">-12</option>
                           <option value="116">-11</option>
                           <option value="117">-10</option>
                           <option value="118">-9</option>
                           <option value="119">-8</option>
                           <option value="120">-7</option>
                           <option value="121">-6</option>
                           <option value="122">-5</option>
                           <option value="123">-4</option>
                           <option value="124">-3</option>
                           <option value="125">-2</option>
                           <option value="126">-1</option>
                           <option selected="selected" value="0">0</option>
                           <option value="1">+1</option>
                           <option value="2">+2</option>
                           <option value="3">+3</option>
                           <option value="4">+4</option>
                           <option value="5">+5</option>
                           <option value="6">+6</option>
                           <option value="7">+7</option>
                           <option value="8">+8</option>
                           <option value="9">+9</option>
                           <option value="10">+10</option>
                           <option value="11">+11</option>
                           <option value="12">+12</option>
                           <option value="13">+13</option>
                           <option value="14">+14</option>
                           <option value="15">+15</option>
                           <option value="16"> +16</option>
                           <option value="17">+17</option>
                           <option value="18">+18</option>
                        </select>
                     </div>
                  </div>
                  <div hidden=hidden class="slidecontainer" id="jumpfactor10bContainer">
                     <input type="range" min="0" max="100" value="0" class="ranger" id="jumpFactor10b" onChange="sendJumpFactor(10, value)" />
                  </div>
                  <div id="jumpLabel8" class="noTouch jumplabel8">Transient note filter (mS)</div>
                  <div class="noTouch jumpvalue10b">
                     <p><span id="demo10b"></span></p>
                  </div>
                  <div class="notechannellabel noTouch">Note Channel</div>
                  <div class="noteChannelContainer">
                     <input class="channelInput" type="text" onChange="sendNoteChannel(value)" id="noteChannel" value="1" />
                  </div>
                  <div class="bendrangelabel noTouch">Bend Range</div>
                  <div class="midiBendRangeContainer">
                     <input class="expressionInput" type="text" onChange="sendBendRange(value)" id="midiBendRange" value="2" />
                  </div>
                  <button type="button" class="headerbuttons noTouch" id="configureCustomFingering" onClick="configureCustomFingering()">Configure custom fingering...</button>
                  <div class="headerbuttonwrapper">
                     <button type="button" class="headerbuttons noTouch" id="saveasdefaults" onClick="modal(2)">Save settings for current instrument</button>
                  </div>
                  <div class="headerbuttonwrapper2">
                     <button type="button" class="headerbuttons noTouch" id="saveforallmodes" onClick="modal(3)">Apply settings to all instruments</button>
                  </div>
                  <div class="headerbuttonwrapper3">
                     <button type="button" class="headerbuttons noTouch" id="restoreall" onClick="modal(4)">Restore all factory settings</button>
                  </div>
               </div>
               <div class="smallcontrolbox" id="box1">
                  <h2 class="controlboxtitle noTouch">
                     Note Trigger and Register Control
                     <button type="button" class="infocircle" onClick="modal(6)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <div class="pressureLabel noTouch">Pressure (inH<sub>2</sub>0)</div>
                  <div class="pressure noTouch" id="pressure"></div>
                  <div class="radiogroup">
                     <fieldset>
                        <div>
                           <input type="radio" value="0" name="sensorradio" id="sensorradio0" onChange="sendBreathmodeRadio(value)" />
                           <label for="sensorradio0"><span><span></span></span>1. Single Register &nbsp; </label>
                        </div>
                        <div>
                           <input type="radio" value="1" name="sensorradio" id="sensorradio1" onChange="sendBreathmodeRadio(value)" checked=checked />
                           <label for="sensorradio1"><span><span></span></span>2. Overblow</label>
                        </div>
                        <div>
                           <input type="radio" value="2" name="sensorradio" id="sensorradio2" onChange="sendBreathmodeRadio(value)" />
                           <label for="sensorradio2"><span><span></span></span>3. Thumb register</label>
                        </div>
                        <div>
                           <input type="radio" value="3" name="sensorradio" id="sensorradio3" onChange="sendBreathmodeRadio(value)" />
                           <label for="sensorradio3"><span><span></span></span>4. Bell register</label>
                        </div>
                     </fieldset>
                  </div>
                  <div id="pressureGroup">
                     <div class="radiogroup4">
                        <fieldset>
                           <div>
                              <input type="radio" value="0" name="calibrateradio" id="calibrateradio0" onChange="sendCalibrateRadio(value)" checked=checked />
                              <label for="calibrateradio0"><span><span></span></span>Calibrate at startup &nbsp; </label>
                           </div>
                           <div>
                              <input type="radio" value="1" name="calibrateradio" id="calibrateradio1" onChange="sendCalibrateRadio(value)" />
                              <label for="calibrateradio1"><span><span></span></span>Learn or enter pressure:</label>
                           </div>
                        </fieldset>
                     </div>
                     <button type="button" class="smallbutton noTouch learn" onClick="learn()">Learn</button>
                     <div class="pressureUnitsLabel noTouch">inH<sub>2</sub>0</div>
                     <div class="octavePressureInputContainer">
                        <input class="channelInput" type="text" onChange="sendOctavePressure(value)" id="octavePressureInput" value="" />
                     </div>
                  </div>
                  <div class="radiogroup10" id="radioGroup10">
                     <fieldset>
                        <div>
                           <input type="radio" value="0" name="bagBreath" id="bagBreath0" onChange="sendVented(false)" />
                           <label for="bagBreath0"><span><span></span></span>Bag</label>
                        </div>
                        <div>
                           <input type="radio" value="1" name="bagBreath" id="bagBreath1" onChange="sendVented(true)" checked=checked />
                           <label for="bagBreath1"><span><span></span></span>Breath</label>
                        </div>
                     </fieldset>
                  </div>
                  <div class="invertLabel noTouch">Invert thumb/bell</div>
                  <label class="switch" id="switch9">
                  <input type="checkbox" class="checkboxes" id="checkbox9" onChange="sendInvert(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <div class="ventedLabel noTouch" id="ventedLabel">Vented mouthpiece</div>
                  <label class="switch" id="switch4">
                  <input type="checkbox" class="checkboxes" id="checkbox4" onChange="sendVented(this.checked)" />
                  <span class="slider2 round" id="breathSlider"></span>
                  </label>
                  <div class="baglessLabel noTouch">Bagless mode</div>
                  <label class="switch" id="switch8">
                  <input type="checkbox" class="checkboxes" id="checkbox8" onChange="sendBagless(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <button type="button" class="smallbutton noTouch advanced" onClick="advanced()">Advanced...</button>
                  <button type="button" class="smallbutton noTouch graph" onClick="pressureGraph()">Graph...</button>
               </div>
               <div class="smallcontrolbox" id="box2">
                  <h2 class="controlboxtitle noTouch">
                     Advanced Overblowing Settings
                     <button type="button" class="infocircle" onClick="modal(11)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <div id="advancedSliders">
                     <div class="slidecontainer" id="jumpfactorContainer">
                        <input type="range" min="1" max="75" value="50" class="ranger" id="jumpFactor1" onChange="sendJumpFactor(1, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor2Container">
                        <input type="range" min="1" max="25" value="20" class="ranger" id="jumpFactor2" onChange="sendJumpFactor(2, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor3Container">
                        <input type="range" min="0" max="100" value="20" class="ranger" id="jumpFactor3" onChange="sendJumpFactor(3, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor4Container">
                        <input type="range" min="1" max="50" value="15" class="ranger" id="jumpFactor4" onChange="sendJumpFactor(4, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor5Container">
                        <input type="range" min="0" max="125" value="50" class="ranger" id="jumpFactor5" onChange="sendJumpFactor(5, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor6Container">
                        <input type="range" min="0" max="125" value="75" class="ranger" id="jumpFactor6" onChange="sendJumpFactor(6, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor7Container">
                        <input type="range" min="1" max="75" value="3" class="ranger" id="jumpFactor7" onChange="sendJumpFactor(7, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor8Container">
                        <input type="range" min="1" max="25" value="7" class="ranger" id="jumpFactor8" onChange="sendJumpFactor(8, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor9Container">
                        <input type="range" min="0" max="100" value="20" class="ranger" id="jumpFactor9" onChange="sendJumpFactor(9, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor10Container">
                        <input type="range" min="1" max="50" value="7" class="ranger" id="jumpFactor10" onChange="sendJumpFactor(10, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor11Container">
                        <input type="range" min="0" max="125" value="12" class="ranger" id="jumpFactor11" onChange="sendJumpFactor(11, value)" />
                     </div>
                     <div class="slidecontainer" id="jumpfactor12Container">
                        <input type="range" min="0" max="125" value="50" class="ranger" id="jumpFactor12" onChange="sendJumpFactor(12, value)" />
                     </div>
                     <div class="selectedSettings" id="selectedSettings"></div>
                     <div class="jumplabel noTouch jumplabel0" id="jumplabel10">Bag settings</div>
                     <div class="jumplabel noTouch jumplabel1" id="jumplabel11">Breath settings</div>
                     <div class="jumplabel noTouch jumplabel2">Threshold</div>
                     <div class="jumplabel noTouch jumplabel3">Multiplier</div>
                     <div class="jumplabel noTouch jumplabel4" id="jumpLabel4">Hysteresis</div>
                     <div class="jumplabel noTouch jumplabel5" id="jumpLabel5">Drop</div>
                     <div class="jumplabel noTouch jumplabel6" id="jumplabel6">Jump time (mS)</div>
                     <div class="jumplabel noTouch jumplabel7" id="jumplabel7">Drop time (mS)</div>
                     <div class="jumpvalues noTouch jumpvalue">
                        <p><span id="demo1"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue2">
                        <p><span id="demo2"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue3">
                        <p><span id="demo3"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue4" id="jumpValue4">
                        <p><span id="demo4"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue5" id="jumpValue5">
                        <p><span id="demo5"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue6" id="jumpValue6">
                        <p><span id="demo6"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue7">
                        <p><span id="demo7"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue8">
                        <p><span id="demo8"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue9">
                        <p><span id="demo9"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue10" id="jumpValue10">
                        <p><span id="demo10"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue11" id="jumpValue11">
                        <p><span id="demo11"></span></p>
                     </div>
                     <div class="jumpvalues noTouch jumpvalue12" id="jumpValue12">
                        <p><span id="demo12"></span></p>
                     </div>
                  </div>
                  <div class="pressureLabelAdvanced noTouch" id="pressureLabelAdvanced">
                     Pressure (inH<sub>2</sub>0)
                  </div>
                  <div class="pressureAdvanced noTouch" id="pressure1"></div>
                  <button type="button" class="smallbutton noTouch advancedOkay" onClick="advancedOkay()">OK</button>
                  <button type="button" class="smallbutton noTouch advancedDefaults" onClick="advancedDefaults()">Breath defaults</button>
                  <button type="button" class="smallbutton noTouch advancedBagDefaults" onClick="advancedBagDefaults()">Bag defaults</button>
               </div>
               <div class="smallcontrolbox" id="pressuregraph">
                  <h2 class="controlboxtitle noTouch">
                     Pressure Graph
                     <button type="button" class="infocircle" onClick="modal(16)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                     <div id="d3PressureGraph"></div>
                     <button type="button" class="smallbutton noTouch pressureOkay" onClick="pressureOkay()">OK</button>
                  </h2>
               </div>
               <div class="smallcontrolbox" id="box5">
                  <h2 class="controlboxtitle noTouch">
                     Finger Vibrato and Slide
                     <button type="button" class="infocircle" onClick="modal(7)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <div class="radiogroup3">
                     <fieldset>
                        <div>
                           <input type="radio" value="0" name="pitchbendradio" id="pitchbendradio0" onChange="sendPitchbendRadio(value)" checked=checked />
                           <label for="pitchbendradio0"> <span><span></span></span>1. Slide and vibrato</label>
                        </div>
                        <div>
                           <input type="radio" value="1" name="pitchbendradio" id="pitchbendradio1" onChange="sendPitchbendRadio(value)" />
                           <label for="pitchbendradio1"><span><span></span></span>2. Vibrato only</label>
                        </div>
                        <div>
                           <input type="radio" value="2" name="pitchbendradio" id="pitchbendradio2" onChange="sendPitchbendRadio(value)" />
                           <label for="pitchbendradio2"><span><span></span></span>3. No pitch bend</label>
                        </div>
                        <div>
                           <input type="radio" value="3" name="pitchbendradio" id="pitchbendradio3" onChange="sendPitchbendRadio(value)" />
                           <label for="pitchbendradio3"><span><span></span></span>4. Legato Slide / Vibrato</label>
                        </div>
                     </fieldset>
                  </div>
                  
                  <div class="receivedPBLabel noTouch">Received pitch&nbspbend:</div>
                  <div class="receivedPB noTouch" id="receivedPB"></div>
                  <div class="receivedPBCents noTouch" id="receivedPBCents"></div>
                  <div class="receivedPBCentsLabel noTouch">cents:</div>
                  <div id="PBlevelContainer">
                     <div id="PBlevel"></div>
                  </div>
                  <div id="PBmarker"></div>
                  <div id="PBZeromarker"></div>
                  <div id="topPBlevelContainer">
                     <div id="topPBlevel"></div>
                  </div>
                  
                  <div class="customLabel noTouch">Custom vibrato</div>
                  <label class="switch" id="switch5">
                  <input type="checkbox" class="checkboxes" id="checkbox5" onChange="sendCustom(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <button type="button" id="advancedPBbutton" class="smallbutton noTouch advancedPB" onClick="advancedPB()">Advanced...</button>
                  <div class="vibratoHolesLabel noTouch">Select vibrato holes:</div>
                  <div class="vibratoHolesLT noTouch">L thumb</div>
                  <div class="vibratoHolesBell noTouch">Bell</div>
                  <label class="vibratoSwitch vibratoHoles hole8" id="vibratoHole8">
                  <input type="checkbox" class="vibratoCheckboxes" id="vibratoCheckbox8" onChange="sendVibratoHoles(8, this.checked)" />
                  <span class="vibratoSlider round"></span>
                  </label>
                  <label class="vibratoSwitch vibratoHoles hole7" id="vibratoHole7">
                  <input type="checkbox" class="vibratoCheckboxes" id="vibratoCheckbox7" onChange="sendVibratoHoles(7, this.checked)" />
                  <span class="vibratoSlider round"></span>
                  </label>
                  <label class="vibratoSwitch vibratoHoles hole6" id="vibratoHole6">
                  <input type="checkbox" class="vibratoCheckboxes" id="vibratoCheckbox6" onChange="sendVibratoHoles(6, this.checked)" />
                  <span class="vibratoSlider round"></span>
                  </label>
                  <label class="vibratoSwitch vibratoHoles hole5" id="vibratoHole5">
                  <input type="checkbox" class="vibratoCheckboxes" id="vibratoCheckbox5" onChange="sendVibratoHoles(5, this.checked)" />
                  <span class="vibratoSlider round"></span>
                  </label>
                  <label class="vibratoSwitch vibratoHoles hole4" id="vibratoHole4">
                  <input type="checkbox" class="vibratoCheckboxes" id="vibratoCheckbox4" onChange="sendVibratoHoles(4, this.checked)" />
                  <span class="vibratoSlider round"></span>
                  </label>
                  <label class="vibratoSwitch vibratoHoles hole3" id="vibratoHole3">
                  <input type="checkbox" class="vibratoCheckboxes" id="vibratoCheckbox3" onChange="sendVibratoHoles(3, this.checked)" checked=checked />
                  <span class="vibratoSlider round"></span>
                  </label>
                  <label class="vibratoSwitch vibratoHoles hole2" id="vibratoHole2">
                  <input type="checkbox" class="vibratoCheckboxes" id="vibratoCheckbox2" onChange="sendVibratoHoles(2, this.checked)" checked=checked />
                  <span class="vibratoSlider round"></span>
                  </label>
                  <label class="vibratoSwitch vibratoHoles hole1" id="vibratoHole1">
                  <input type="checkbox" class="vibratoCheckboxes" id="vibratoCheckbox1" onChange="sendVibratoHoles(1, this.checked)" />
                  <span class="vibratoSlider round"></span>
                  </label>
                  <label class="vibratoSwitch vibratoHoles hole0" id="vibratoHole0">
                  <input type="checkbox" class="vibratoCheckboxes" id="vibratoCheckbox0" onChange="sendVibratoHoles(0, this.checked)" />
                  <span class="vibratoSlider round"></span>
                  </label>
               </div>
               <div class="smallcontrolbox" id="box4">
                  <h2 class="controlboxtitle noTouch">
                     Advanced Pitch Bend Settings
                     <button type="button" class="infocircle" onClick="modal(17)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <button type="button" class="smallbutton noTouch advancedOkayPB" onClick="advancedOkayPB()">BACK</button>
                  <div id="advancedPBsliders">
                     <div class="slidecontainer2" id="pitchBendContainer">
                        <input type="range" min="-75" max="-10" value="-10" class="ranger" id="senseDistance" onChange="sendSenseDistance(value)" />
                     </div>
                     <div class="pitchbendlabel noTouch">Finger-sensing distance</div>
                     <div class="slidecontainer2" id="depthContainer">
                        <input type="range" min="1" max="50" value="12" class="ranger" id="depth" onChange="sendDepth(value)" />
                     </div>
                     <div class="depthlabel noTouch">Vibrato depth (cents)</div>
                     <div class="slidecontainer2" id="slideLimitContainer">
                        <input type="range" min="1" max="12" value="4" class="ranger" id="slidelimit" onChange="sendSlideLimit(value)" />
                     </div>
                     <div class="slidelimitlabel noTouch" id="slidelimitlabel">Legato slide limit (semitones)</div>
                     <div class="jumpvalues jumpvalue14">
                        <p><span id="demo14"></span></p>
                     </div>
                     <div class="jumpvalues jumpvalue18">
                        <p><span id="demo18"></span></p>
                     </div>
                  </div>
                  <div class="hack1Label noTouch">Send pitch bend immmediately before Note On</div>
                  <label class="switch" id="switch14">
                  <input type="checkbox" class="checkboxes" id="checkbox14" onChange="sendHack1(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <div class="hack2Label noTouch">Send notes as legato</div>
                  <label class="switch" id="switch15">
                  <input type="checkbox" class="checkboxes" id="checkbox15" onChange="sendHack2(this.checked)" />
                  <span class="slider round"></span>
                  </label>
               </div>
               <div class="smallcontrolbox expressionBox" id="expressionPressureBox">
                  <div class="pitchExpressionBox" id="pitchExpressionBox"></div>
                  <h2 class="controlboxtitle noTouch">
                     Pressure Mapping
                     <button type="button" class="infocircle" onClick="modal(12)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <div class="slidecontainer4" id="ExpressionDepthContainer">
                     <input type="range" min="1" max="8" value="3" class="ranger" id="expressionDepth" onChange="sendExpressionDepth(value)" />
                  </div>
                  <div id="forceVelocityLabel" class="forceVelocityLabel noTouch">
                     Force max velocity
                  </div>
                  <button type="button" id="overrideExpression" class="smallbutton noTouch override" onClick="overRideExpression()">Set up Override...</button>
                  <div class="expressionDepthLabel noTouch">Depth</div>
                  <div class="expressionLabel noTouch">Pitch Expression</div>
                  <label class="switch" id="overrideExprSwitch">
                  <input disabled type="checkbox" class="checkboxes" id="overrideExprCheck" onChange="sendOverride(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <div class="expressionOverrideLabel noTouch">Override (not available with overblowing)</div>
                  
                  <div class="jumpvalues noTouch" id="exprfixedcenterslider-value"></div>
                  <div id="exprcenterpresslabel" class="exprcenterpresslabel noTouch">Center Pressure</div>
                  <div class="maxMinContainerExprFixedCenter" id="maxMinContainerExprFixedCenter">
                     <input disabled type="range" min="0" max="100" value="10" class="ranger" id="exprfixedcenterslider" onChange="sendExpressionCenterPressure(value)"    onInput="updateExpressionCenterPressureLabel()" />
                  </div>
                  
                  <div id="sendPressureLabel" class="sendPressureLabel noTouch">Send pressure as CC</div>
                  <div id="velocityLabel" class="sendVelocityLabel noTouch">Send pressure as Velocity</div>
                  <div id="aftertouchLabel" class="sendAftertouchLabel noTouch">Channel Pressure</div>
                  <div id="polyAftertouchLabel" class="sendPolyAftertouchLabel noTouch">Key Pressure</div>
                  <label class="switch" id="switch12">
                  <input type="checkbox" class="checkboxes" id="checkbox12" onChange="sendForceVelocity(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch6">
                  <input type="checkbox" class="checkboxes" id="checkbox6" onChange="sendExpression(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch7">
                  <input type="checkbox" class="checkboxes" id="checkbox7" onChange="sendRawPressure(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch10">
                  <input type="checkbox" class="checkboxes" id="checkbox10" onChange="sendVelocity(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch11">
                  <input type="checkbox" class="checkboxes" id="checkbox11" onChange="sendAftertouch(this.checked, document.getElementById('checkbox13').checked)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch13">
                  <input type="checkbox" class="checkboxes" id="checkbox13" onChange="sendAftertouch(document.getElementById('checkbox11').checked, this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <button type="button" id="CCmapButton" class="smallbutton noTouch mapCC" onClick="mapCC()">Map...</button>
                  <button type="button" id="velocityMapButton" class="smallbutton noTouch mapVelocity" onClick="mapVelocity()">Map...</button>
                  <button type="button" id="aftertouchMapButton" class="smallbutton noTouch mapAftertouch" onClick="mapAftertouch()">Map...</button>
                  <button type="button" id="polyMapButton" class="smallbutton noTouch mapPoly" onClick="mapPoly()">Map...</button>
                  <button type="button" id="backPressureButton" class="smallbutton noTouch backPressure" onClick="backPressure()">BACK</button>
               </div>
               <div class="smallcontrolbox expressionBox" id="box9">
                  <h2 class="controlboxtitle noTouch">
                     Pressure and IMU Mapping
                     <button type="button" class="infocircle" onClick="modal(28)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <button type="button" id="pressureMapButton" class="smallbutton noTouch pressureMapping" onClick="mapPressure()">Pressure mapping...</button>
                  <button type="button" id="IMUMapButton" class="smallbutton noTouch IMUMapping" onClick="mapIMU()">IMU mapping...</button>
               </div>
               <div class="smallcontrolbox expressionBox" id="box10">
                  <h2 class="controlboxtitle noTouch">
                     IMU Mapping
                     <button type="button" class="infocircle" onClick="modal(26)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <button type="button" id="backIMUButton" class="smallbutton noTouch backIMU" onClick="backIMU()">BACK</button>
                  <div id="sendRollLabel" class="sendRollLabel noTouch">Send roll as CC</div>
                  <div id="sendPitchLabel" class="sendPitchLabel noTouch">Send elevation as CC</div>
                  <div id="sendYawLabel" class="sendYawLabel noTouch">Send yaw as CC</div>
                  <div id="sendPitchRegisterLabel" class="sendPitchRegisterLabel noTouch">Control register with elevation</div>
                  <div id="sendShakeLabel" class="sendShakeLabel noTouch">Shake vibrato</div>
                  <label class="switch" id="switch20">
                  <input type="checkbox" class="checkboxes" id="checkbox20" onChange="sendRoll(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch21">
                  <input type="checkbox" class="checkboxes" id="checkbox21" onChange="sendPitch(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch22">
                  <input type="checkbox" class="checkboxes" id="checkbox22" onChange="sendYaw(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch27">
                  <input type="checkbox" class="checkboxes" id="checkbox27" onChange="sendPitchRegister(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch24">
                  <input type="checkbox" class="checkboxes" id="checkbox24" onChange="sendShake(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <div class="shakeVibModeContainer">
                     <div class="styled-select2 blue semi-square">
                        <select id="shakeVibModeCommand" onChange="sendShakeVibModeOnCommand(value)">
                           <option selected="selected" value="0">Up/Down</option>
                           <option value="1">Down/Up</option>
                           <option value="2">Up Only</option>
                           <option value="3">Down Only</option>
                           <option value="4">Up Only Invert</option>
                           <option value="5">Down Only Invert</option>
                        </select>
                     </div>
                  </div>
                  <div class="slidecontainer5" id="shakeDepthContainer">
                     <input type="range" min="1" max="100" value="50" class="ranger" id="shakeDepth" onChange="sendShakeDepth(value)" />
                  </div>
                  <div class="shakeDepthlabel noTouch">Shake vibrato depth (percent)</div>
                  <div class="jumpvalues jumpvalue15">
                     <p><span id="demo15"></span></p>
                  </div>
                  <button type="button" id="rollMapButton" class="smallbutton noTouch mapRoll" onClick="mapRoll()">Map...</button>
                  <button type="button" id="rollPitchButton" class="smallbutton noTouch mapPitch" onClick="mapPitch()">Map...</button>
                  <button type="button" id="rollYawButton" class="smallbutton noTouch mapYaw" onClick="mapYaw()">Map...</button>
                  <button type="button" id="pitchRegisterButton" class="smallbutton noTouch pitchRegister" onClick="mapPitchRegister()">Map...</button>
               </div>
               <div class="smallcontrolbox expressionBox" id="box11">
                  <h2 class="controlboxtitle noTouch">
                     <span id="IMUMappingHeader">
                     Roll Mapping
                     </span>
                     <button type="button" class="infocircle" onClick="modal(27)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <div class="IMUMappingControls" id="IMUMappingControls">
                     <div id="centerLabel" class="centerLabel noTouch">Center input range</div>
                     <label class="switch" id="switch23">
                     <input type="checkbox" class="checkboxes" id="checkbox23" onChange="sendCenter(this.checked)" checked=checked />
                     <span class="slider round"></span>
                     </label>
                     <div class="jumpvalues noTouch" id="slider4-value-min"></div>
                     <div class="jumpvalues noTouch" id="slider4-value-max"></div>
                     <div class="jumpvalues noTouch" id="slider5-value-min"></div>
                     <div class="jumpvalues noTouch" id="slider5-value-max"></div>
                     <div class="maxMinContainer4" id="slider4"></div>
                     <div class="maxMinContainer5" id="slider5"></div>
                     <div class="rangeLabel4 noTouch">Input range (degrees)</div>
                     <div class="rangeLabel5 noTouch">Output range</div>
                     <div class="IMUChannelLabel noTouch" id="IMUChannel">CC Channel</div>
                     <div class="IMUhighByteLabel noTouch" id="IMUhighByte">CC number</div>
                     <div class="IMUChannelInputContainer">
                        <input class="IMUInput" type="text" onChange="sendIMUChannel(value)" id="IMUChannelInput" />
                     </div>
                     <div class="IMUHighByteInputContainer">
                        <input class="IMUInput" type="text" onChange="sendIMUCC(value)" id="IMUCC" />
                     </div>
                     <button type="button" class="smallbutton noTouch advancedOkayIMU" onClick="okayIMUmap()">BACK</button>
                     <div class="receivedCCLabel noTouch">Received CC:</div>
                     <div class="receivedCC noTouch" id="receivedCC"></div>
                     <div id="CClevelContainer">
                        <div id="CClevel"></div>
                     </div>
                  </div>
                  <div class="YawCenterControls" id="YawCenterControls">
                     <div id="sendAutoCenterYawLabel" class="sendAutoCenterYawLabel noTouch">Auto-center yaw</div>
                     <label class="switch" id="switch25">
                     <input type="checkbox" class="checkboxes" id="checkbox25" onChange="sendAutoCenterYaw(this.checked)" />
                     <span class="slider round"></span>
                     </label>
                     <div class="slidecontainer7" id="autoCenterYawContainer">
                        <input type="range" min="0" max="20" value="1" class="ranger" id="autoCenterYawInterval" onChange="sendAutoCenterYawInterval(value)" />
                     </div>
                     <div class="autoCenterYawIntervallabel noTouch">Minimum pause (seconds)</div>
                     <div class="jumpvalues jumpvalue16">
                        <p><span id="demo16"></span></p>
                     </div>
                  </div>
               </div>
               <div class="smallcontrolbox expressionBox" id="box12">
                  <h2 class="controlboxtitle noTouch">
                     <span id="IMUMappingHeader">
                     Control Register with Elevation
                     </span>
                     <button type="button" class="infocircle" onClick="modal(29)">  <img  class = "info" src="img/info-circle.svg"></img></button>             
                  </h2>
                  <div class="jumpvalues noTouch" id="slider6-value-min"></div>
                  <div class="jumpvalues noTouch" id="slider6-value-max"></div>
                  <div class="maxMinContainer6" id="slider6"></div>
                  <div class="rangeLabel6 noTouch">Input range (degrees)</div>
                  <div class="rangeLabel7 noTouch">Number of registers</div>
                  <button type="button" class="smallbutton noTouch advancedOkayIMU" onClick="okayPitchRegistermap()">BACK</button>
                  <div class="slidecontainer6" id="pitchRegisterContainer">
                     <input type="range" min="2" max="5" value="2" class="ranger" id="pitchRegisterNumber" onChange="sendpitchRegisterNumber(value)" />
                  </div>
                  <div class="jumpvalues jumpvalue17">
                     <p><span id="demo17"></span></p>
                  </div>
               </div>
               <div class="smallcontrolbox expressionBox" id="box7">
                  <h2 class="controlboxtitle noTouch">
                     <span id="pressureMappingHeader">
                     Pressure Mapping
                     </span>
                     <button type="button" class="infocircle" onClick="modal(21)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <div class="linear">
                     <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                        width="792px" height="612px" viewBox="0 0 792 612" enable-background="new 0 0 792 612" xml:space="preserve">
                        <line fill="none" stroke="#c3c0c0" stroke-miterlimit="10" x1="162.655" y1="198.241" x2="187.655" y2="198.241" />
                        <line fill="none" stroke="#c3c0c0" stroke-miterlimit="10" x1="162.655" y1="198.241" x2="162.655" y2="173.241" />
                        <line fill="none" stroke="#c3c0c0" stroke-miterlimit="10" x1="162.655" y1="198.241" x2="182.052" y2="178.845" />
                     </svg>
                  </div>
                  <div class="curve2">
                     <svg version="1.1" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        x="0px" y="0px" width="792px" height="612px" viewBox="0 0 792 612" xml:space="preserve">
                        <line fill="none" stroke="#c3c0c0" stroke-miterlimit="10" x1="162.655" y1="198.241" x2="187.655" y2="198.241" />
                        <path fill="none" stroke="#c3c0c0" stroke-miterlimit="10" d="M162.655,173.241v25c13.208-3.773,20.16-8.307,25.601-23.418" />
                     </svg>
                  </div>
                  <div class="curve3">
                     <svg version="1.1" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        x="0px" y="0px" width="792px" height="612px" viewBox="0 0 792 612" xml:space="preserve">
                        <line fill="none" stroke="#c3c0c0" stroke-miterlimit="10" x1="162.655" y1="198.241" x2="187.655" y2="198.241" />
                        <path fill="none" stroke="#c3c0c0" stroke-miterlimit="10" d="M162.655,173.241v25c4.343-12.5,9.783-20.295,25.601-23.418" />
                     </svg>
                     y
                  </div>
                  <div class="radiogroup7">
                     <fieldset>
                        <div>
                           <input type="radio" value="0" name="curveRadio" id="curveRadio0" onChange="sendCurveRadio(value)" checked=checked />
                           <label for="curveRadio0">
                              <span><span></span></span>
                              <p class="curveLabel">Linear &nbsp;</p>
                              <p> </p>
                           </label>
                        </div>
                     </fieldset>
                  </div>
                  <div class="radiogroup8">
                     <fieldset>
                        <div>
                           <input type="radio" value="1" name="curveRadio" id="curveRadio1" onChange="sendCurveRadio(value)" />
                           <label for="curveRadio1">
                              <span><span></span></span>
                              <p class="curveLabel">Curve 2 &nbsp;</p>
                              <p></p>
                           </label>
                        </div>
                     </fieldset>
                  </div>
                  <div class="radiogroup9">
                     <fieldset>
                        <div>
                           <input type="radio" checked=checked value="2" name="curveRadio" id="curveRadio2" onChange="sendCurveRadio(value)" />
                           <label for="curveRadio2">
                              <span><span></span></span>
                              <p class="curveLabel">Curve 3 &nbsp;</p>
                              <p></p>
                           </label>
                        </div>
                     </fieldset>
                  </div>
                  <div class="jumpvalues noTouch" id="slider-value-min"></div>
                  <div class="jumpvalues noTouch" id="slider-value-max"></div>
                  <div class="jumpvalues noTouch" id="slider2-value-min"></div>
                  <div class="jumpvalues noTouch" id="slider2-value-max"></div>
                  <div class="maxMinContainer" id="slider"></div>
                  <div class="maxMinContainer2" id="slider2"></div>
                  <div class="rangeLabel noTouch">Input pressure range (inH<sub>2</sub>0)</div>
                  <div class="rangeLabel2 noTouch">Output range</div>
                  <button type="button" class="smallbutton noTouch advancedOkayCC" onClick="okayCCmap()">BACK</button>
                  <div class="expressionChannelLabel noTouch" id="expressionChannel">CC Channel</div>
                  <div class="highByteLabel noTouch" id="highByte">CC number</div>
                  
                  <div id="pressureShakeModLabel" class="pressureShakeModLabel noTouch">IMU Shake Mod</div>
                  <label class="switch" id="pressureShakeModSwitch">
                  <input type="checkbox" class="checkboxes" id="pressureShakeModCheck" onChange="sendPressureShakeMod(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <div class="shakePressureModModeContainer">
                     <div class="styled-select2 blue semi-square" id="shakePressureModModeSelect">
                        <select id="shakePressureModMode" onChange="sendPressureShakeModMode(value)">
                           <option selected="selected" value="0">Up/Down</option>
                           <option value="1">Down/Up</option>
                           <option value="2">Up Only</option>
                           <option value="3">Down Only</option>
                           <option value="4">Up Only Invert</option>
                           <option value="5">Down Only Invert</option>                        
                        </select>
                     </div>
                  </div>
                  <div class="pressureShakeModDepthContainerClass" id="pressureShakeModDepthContainer">
                     <input type="range" min="1" max="100" value="50" class="ranger" id="pressureShakeModDepth" onChange="sendPressureShakeModDepth(value)" ondblclick="sendPressureShakeModDepth(40)"/>
                  </div>
                  <div class="pressureShakeModDepthLabel noTouch" id="pressureShakeModDepthLabel">Depth</div>
                  <div class="jumpvalues noTouch" id="pressureShakeModDepthValue"></div>
                  
                  <div id="pressureMPEplusLabel" class="pressureMPEplusLabel noTouch">MPE+ (14bit)</div>
                  <label class="switch" id="pressureMPEplusSwitch">
                  <input type="checkbox" class="checkboxes" id="pressureMPEplusCheck" onChange="sendPressureAftertouchMPEplus(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  
                  <div class="expressionChannelInputContainer">
                     <input class="expressionInput" type="text" onChange="sendPressureChannel(value)" id="pressureChannel" value="1" />
                  </div>
                  <div class="expressionHighByteInputContainer">
                     <input class="expressionInput" type="text" onChange="sendPressureCC(value)" id="pressureCC" value="2" hidden=hidden />
                  </div>
                  <div class="receivedCCpressureLabel noTouch">Received value:</div>
                  <div class="receivedpressureCC noTouch" id="receivedpressureCC"></div>
                  <div id="CCpressurelevelContainer">
                     <div id="CCpressurelevel"></div>
                  </div>
               </div>
               <div class="smallcontrolbox expressionBox" id="box8">
                  <h2 class="controlboxtitle noTouch">
                     Pitch Expression Pressure-Range Override
                     <button type="button" class="infocircle" onClick="modal(20)">  <img  class = "info" src="img/info-circle.svg"></img></button>               
                  </h2>
                  <div id="overrideLabel" class="overrideLabel noTouch">Override pitch expression range <br> (not available with overblowing)</div>
                  <label class="switch" id="switch16">
                  <input type="checkbox" class="checkboxes" id="checkbox16" onChange="sendOverride(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <div class="jumpvalues noTouch" id="exprlowslider-value-min"></div>
                  <div class="jumpvalues noTouch" id="exprlowslider-value-max"></div>
                  <div class="maxMinContainerExprLow" id="exprlowslider"></div>
                  <div id="lowrangelabel" class="lowrangelabel noTouch">Low range</div>

                  <div id="exprInputPressureLevelContainer">
                     <div id="exprInputPressureLevel"></div>
                  </div>

                  <div id="exprOutputBendLevelContainer">
                     <div id="exprOutputBendLevel"></div>
                  </div>
                  
                  <div class="jumpvalues noTouch" id="exprhighslider-value-min"></div>
                  <div class="jumpvalues noTouch" id="exprhighslider-value-max"></div>
                  <div class="maxMinContainerExprHigh" id="exprhighslider"></div>
                  <div id="highrangelabel" class="highrangelabel noTouch">High range</div>
                  
                  <div class="jumpvalues noTouch" id="exprlowbendslider-value"></div>
                  <div class="maxMinContainerExprLowBend" id="exprlowbendslider"></div>
                  <div id="lowrangelabel2" class="lowrangelabel2 noTouch">Low range</div>

                  <div class="jumpvalues noTouch" id="exprhighbendslider-value"></div>
                  <div class="maxMinContainerExprHighBend" id="exprhighbendslider"></div>
                  <div id="highrangelabel2" class="highrangelabel2 noTouch">High range</div>
                  

                  
                  <div id="clampExprMaxLabel" class="clampExprMaxLabel noTouch">Clamp upper bend</div>
                  <label class="switch" id="clampExprSwitch">
                  <input type="checkbox" class="checkboxes" id="clampExprCheck" onChange="sendClampExpr(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <button type="button" class="resetExpressionButton smallbutton noTouch" id="resetExpressionButton" onClick="resetPitchExpressionOverride()">Reset to Default</button>
                  
                  <div class="overrideRangeLabel noTouch" id="overrideRangeLabel">Input Pressure Range (inH<sub>2</sub>0)</div>
                  <div class="overrideCentsLabel noTouch" id="overrideCentsLabel">Output Bend (cents)</div>
                  
                  <div class="jumpvalues noTouch" id="exprcurvelowslider-value"></div>
                  <div id="exprcurvelowlabel" class="exprcurvelowlabel noTouch">Curve Low</div>
                  <div class="maxMinContainerExprCurveLow" id="maxMinContainerExprCurveLow">
                     <input type="range" min="0" max="127" value="64" class="ranger" id="exprcurvelowslider" onChange="sendExpressionCurveLow(value)"    onInput="updateExpressionCurveLabels()" onDblClick="resetExpressionCurveLow()" />
                  </div>

                  <div class="jumpvalues noTouch" id="exprcurvehighslider-value"></div>
                  <div id="exprcurvehighlabel" class="exprcurvehighlabel noTouch">Curve High</div>
                  <div class="maxMinContainerExprCurveHigh" id="maxMinContainerExprCurveHigh">
                     <input type="range" min="0" max="127" value="64" class="ranger" id="exprcurvehighslider" onChange="sendExpressionCurveHigh(value)"    onInput="updateExpressionCurveLabels()" onDblClick="resetExpressionCurveHigh()" />
                  </div>
                  
                  
                  <button type="button" class="smallbutton noTouch advancedOkayPB" id = "advancedOkayPB" onClick="okayOverride()">BACK</button>
               </div>
               <div class="smallcontrolbox dronescontrolBox" id="box3">
                  <h2 class="controlboxtitle noTouch">
                     Drones Control
                     <button type="button" class="infocircle" onClick="modal(13)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <div class="onCommandLabel noTouch">Drone on command</div>
                  <div class="droneChannelLabel noTouch">Channel<br />(1-16)</div>
                  <div class="droneByte2Label noTouch">Byte 2<br />(0-127)</div>
                  <div class="droneByte3Label noTouch">Byte 3<br />(0-127)</div>
                  <div class="droneOnContainer">
                     <div class="styled-select2 blue semi-square">
                        <select id="dronesOnCommand" onChange="sendDronesOnCommand(value)">
                           <option selected="selected" value="0">Note on</option>
                           <option value="1">Note off</option>
                           <option value="2">CC</option>
                        </select>
                     </div>
                  </div>
                  <div class="droneChannelInputContainer">
                     <input class="channelInput" type="text" onChange="sendDronesOnChannel(value)" id="dronesOnChannel" value="" />
                  </div>
                  <div class="droneByte2InputContainer">
                     <input class="channelInput" type="text" onChange="sendDronesOnByte2(value)" id="dronesOnByte2" value="" />
                  </div>
                  <div class="droneByte3InputContainer">
                     <input class="channelInput" type="text" onChange="sendDronesOnByte3(value)" id="dronesOnByte3" value="" />
                  </div>
                  <div class="offCommandLabel noTouch">Drone off command</div>
                  <div class="droneOffContainer">
                     <div class="styled-select2 blue semi-square">
                        <select id="dronesOffCommand" onChange="sendDronesOffCommand(value)">
                           <option value="0">Note on</option>
                           <option selected="selected" value="1">Note off</option>
                           <option value="2">CC</option>
                        </select>
                     </div>
                  </div>
                  <div class="droneOffChannelInputContainer">
                     <input class="channelInput" type="text" onChange="sendDronesOffChannel(value)" id="dronesOffChannel" value="" />
                  </div>
                  <div class="droneOffByte2InputContainer">
                     <input class="channelInput" type="text" onChange="sendDronesOffByte2(value)" id="dronesOffByte2" value="" />
                  </div>
                  <div class="droneOffByte3InputContainer">
                     <input class="channelInput" type="text" onChange="sendDronesOffByte3(value)" id="dronesOffByte3" value="" />
                  </div>
                  <div class="radiogroup5">
                     <fieldset>
                        <div>
                           <input type="radio" value="0" name="dronesradio" id="dronesRadio0" onChange="sendDronesRadio(value)" checked=checked />
                           <label for="dronesRadio0"> <span><span></span></span>No drone control</label>
                        </div>
                        <div>
                           <input type="radio" value="1" name="dronesradio" id="dronesRadio1" onChange="sendDronesRadio(value)" />
                           <label for="dronesRadio1"><span><span></span></span>Use "secret" button</label>
                        </div>
                        <div>
                           <input type="radio" value="2" name="dronesradio" id="dronesRadio2" onChange="sendDronesRadio(value)" />
                           <label for="dronesRadio2"><span><span></span></span>Turn on/off with chanter</label>
                        </div>
                     </fieldset>
                  </div>
                  <div class="radiogroup6">
                     <fieldset>
                        <div>
                           <input type="radio" value="3" name="dronesradio" id="dronesRadio3" onChange="sendDronesRadio(value)" />
                           <label for="dronesRadio3"><span><span></span></span>Use pressure:</label>
                        </div>
                     </fieldset>
                  </div>
                  <button type="button" class="smallbutton noTouch learnDrones" onClick="learnDrones()">Learn</button>
                  <div class="dronePressureInputContainer">
                     <input class="channelInput" type="text" onChange="sendDronesPressure(value)" id="dronesPressureInput" value="" />
                  </div>
                  <div class="dronesPressureUnitsLabel noTouch">inH<sub>2</sub>0</div>
               </div>
               <div class="controlbox2" id="buttonBox">
                  <h2 class="controlboxtitle noTouch">
                     Button Behavior
                     <button type="button" class="infocircle" onClick="modal(8)">  <img  class = "info" src="img/info-circle.svg"></img></button>
                  </h2>
                  <div class="secretLabel noTouch">Use "secret" button commands</div>
                  <label class="switch" id="switch3">
                  <input type="checkbox" class="checkboxes" id="checkbox3" onChange="sendSecret(this.checked)" />
                  <span class="slider round"></span>
                  </label>
                  <div class="doubleClickLabel noTouch" id="doubleClickLabel">Use button double-clicks</div>
                  <label class="switch" id="switchDoubleClick">
                    <input type="checkbox" class="checkboxes" id="cbDoubleClick" onChange="sendDoubleClick(this.checked)">
                    <span class="slider round"></span>
                  </label>
                  <div class="momentaryLabel noTouch">Momentary</div>
                  <label class="switch" id="switch0">
                  <input type="checkbox" class="checkboxes" id="checkbox0" onChange="sendMomentary(0)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch1">
                  <input type="checkbox" class="checkboxes" id="checkbox1" onChange="sendMomentary(1)" />
                  <span class="slider round"></span>
                  </label>
                  <label class="switch" id="switch2">
                  <input type="checkbox" class="checkboxes" id="checkbox2" onChange="sendMomentary(2)" />
                  <span class="slider round"></span>
                  </label>
                  <div class="selectLabelContainer">
                     <div id = "gestureLabel0" class="selectLabel noTouch">Click 1</div>
                     <div id = "gestureLabel1" class="selectLabel noTouch">Click 2</div>
                     <div id = "gestureLabel2" class="selectLabel noTouch">Click 3</div>
                     <div id = "gestureLabel3" class="selectLabel noTouch">Hold 2, click 1</div>
                     <div id = "gestureLabel4" class="selectLabel noTouch">Hold 2, click 3</div>
                     <div id = "gestureLabel5" class="selectLabel noTouch">Long-press 1</div>
                     <div id = "gestureLabel6" class="selectLabel noTouch">Long-press 2</div>
                     <div id = "gestureLabel7" class="selectLabel noTouch">Long-press 3</div>
                     <div class="WARBL2Elements">
                        <div id = "gestureLabel8" class="selectLabel noTouch">Sip mouthpiece</div>
                        <div id = "gestureLabel9" class="selectLabel noTouch">Shake</div>
                     </div>
                  </div>
                  <div class="selectContainer">
                     <div class="styled-select blue semi-square">
                        <select id="row0" onChange="sendRow(0)">
                           <option selected="selected" value="0">none</option>
                           <option value="1">Send MIDI message:</option>
                           <option value="2">Change slide/vibrato mode</option>
                           <option value="3">Change instrument</option>
                           <option value="4">Play/stop (bagless mode)</option>
                           <option value="5">Octave shift up</option>
                           <option value="6">Octave shift down</option>
                           <option value="10">Semitone shift up</option>
                           <option value="11">Semitone shift down</option>
                           <option value="7">MIDI Panic</option>
                           <option value="8">Change register control mode</option>
                           <option value="9">Turn drones on/off</option>
                           <option value="12" id="autoCal0">Begin autocalibration</option>
                           <option value="13">Power down</option>
                           <option value="14">Recenter yaw</option>
                           <option value="15">Show battery level</option>
                        </select>
                     </div>
                     <div class="styled-select blue semi-square">
                        <select id="row1" onChange="sendRow(1)">
                           <option selected="selected"  value="0">none</option>
                           <option value="1">Send MIDI message:</option>
                           <option value="2">Change slide/vibrato mode</option>
                           <option value="3">Change instrument</option>
                           <option value="4">Play/stop (bagless mode)</option>
                           <option value="5">Octave shift up</option>
                           <option value="6">Octave shift down</option>
                           <option value="10">Semitone shift up</option>
                           <option value="11">Semitone shift down</option>
                           <option value="7">MIDI Panic</option>
                           <option value="8">Change register control mode</option>
                           <option value="9">Turn drones on/off</option>
                           <option value="12" id="autoCal1">Begin autocalibration</option>
                           <option value="13">Power down</option>
                           <option value="14">Recenter yaw</option>
                           <option value="15">Show battery level</option>
                        </select>
                     </div>
                     <div class="styled-select blue semi-square">
                        <select id="row2" onChange="sendRow(2)">
                           <option selected="selected" value="0">none</option>
                           <option value="1">Send MIDI message:</option>
                           <option value="2">Change slide/vibrato mode</option>
                           <option value="3">Change instrument</option>
                           <option value="4">Play/stop (bagless mode)</option>
                           <option value="5">Octave shift up</option>
                           <option value="6">Octave shift down</option>
                           <option value="10">Semitone shift up</option>
                           <option value="11">Semitone shift down</option>
                           <option value="7">MIDI Panic</option>
                           <option value="8">Change register control mode</option>
                           <option value="9">Turn drones on/off</option>
                           <option value="12" id="autoCal2">Begin autocalibration</option>
                           <option value="13">Power down</option>
                           <option value="14">Recenter yaw</option>
                           <option value="15">Show battery level</option>
                        </select>
                     </div>
                     <div class="styled-select blue semi-square">
                        <select id="row3" onChange="sendRow(3)">
                           <option selected="selected" value="0">none</option>
                           <option value="1">Send MIDI message:</option>
                           <option value="2">Change slide/vibrato mode</option>
                           <option value="3">Change instrument</option>
                           <option value="4">Play/stop (bagless mode)</option>
                           <option value="5">Octave shift up</option>
                           <option value="6">Octave shift down</option>
                           <option value="10">Semitone shift up</option>
                           <option value="11">Semitone shift down</option>
                           <option value="7">MIDI Panic</option>
                           <option value="8">Change register control mode</option>
                           <option value="9">Turn drones on/off</option>
                           <option value="12" id="autoCal3">Begin autocalibration</option>
                           <option value="13">Power down</option>
                           <option value="14">Recenter yaw</option>
                           <option value="15">Show battery level</option>
                        </select>
                     </div>
                     <div class="styled-select blue semi-square">
                        <select id="row4" onChange="sendRow(4)">
                           <option selected="selected" value="0">none</option>
                           <option value="1">Send MIDI message:</option>
                           <option value="2">Change slide/vibrato mode</option>
                           <option value="3">Change instrument</option>
                           <option value="4">Play/stop (bagless mode)</option>
                           <option value="5">Octave shift up</option>
                           <option value="6">Octave shift down</option>
                           <option value="10">Semitone shift up</option>
                           <option value="11">Semitone shift down</option>
                           <option value="7">MIDI Panic</option>
                           <option value="8">Change register control mode</option>
                           <option value="9">Turn drones on/off</option>
                           <option value="12" id="autoCal4">Begin autocalibration</option>
                           <option value="13">Power down</option>
                           <option value="14">Recenter yaw</option>
                           <option value="15">Show battery level</option>
                        </select>
                     </div>
                     <div class="styled-select blue semi-square">
                        <select id="row5" onChange="sendRow(5)">
                           <option value="0">none</option>
                           <option value="1">Send MIDI message:</option>
                           <option value="2">Change slide/vibrato mode</option>
                           <option value="3">Change instrument</option>
                           <option value="4">Play/stop (bagless mode)</option>
                           <option value="5">Octave shift up</option>
                           <option value="6">Octave shift down</option>
                           <option value="10">Semitone shift up</option>
                           <option value="11">Semitone shift down</option>
                           <option value="7">MIDI Panic</option>
                           <option value="8">Change register control mode</option>
                           <option value="9">Turn drones on/off</option>
                           <option value="12" id="autoCal5">Begin autocalibration</option>
                           <option value="13">Power down</option>
                           <option value="14">Recenter yaw</option>
                           <option value="15">Show battery level</option>
                        </select>
                     </div>
                     <div class="styled-select blue semi-square">
                        <select id="row6" onChange="sendRow(6)">
                           <option value="0">none</option>
                           <option value="1">Send MIDI message:</option>
                           <option value="2">Change slide/vibrato mode</option>
                           <option value="3">Change instrument</option>
                           <option value="4">Play/stop (bagless mode)</option>
                           <option value="5">Octave shift up</option>
                           <option value="6">Octave shift down</option>
                           <option value="10">Semitone shift up</option>
                           <option value="11">Semitone shift down</option>
                           <option value="7">MIDI Panic</option>
                           <option value="8">Change register control mode</option>
                           <option value="9">Turn drones on/off</option>
                           <option value="12" id="autoCal6">Begin autocalibration</option>
                           <option value="13">Power down</option>
                           <option value="14">Recenter yaw</option>
                           <option value="15">Show battery level</option>
                        </select>
                     </div>
                     <div class="styled-select blue semi-square">
                        <select id="row7" onChange="sendRow(7)">
                           <option value="0">none</option>
                           <option value="1">Send MIDI message:</option>
                           <option value="2">Change slide/vibrato mode</option>
                           <option value="3">Change instrument</option>
                           <option value="4">Play/stop (bagless mode)</option>
                           <option value="5">Octave shift up</option>
                           <option value="6">Octave shift down</option>
                           <option value="10">Semitone shift up</option>
                           <option value="11">Semitone shift down</option>
                           <option value="7">MIDI Panic</option>
                           <option value="8">Change register control mode</option>
                           <option value="9">Turn drones on/off</option>
                           <option value="12" id="autoCal7">Begin autocalibration</option>
                           <option value="13">Power down</option>
                           <option value="14">Recenter yaw</option>
                           <option value="15">Show battery level</option>
                        </select>
                     </div>
                     <div class="WARBL2Elements">
                        <div class="styled-select blue semi-square">
                           <select id="row8" onChange="sendRow(8)">
                              <option value="0">none</option>
                              <option value="1">Send MIDI message:</option>
                              <option value="2">Change slide/vibrato mode</option>
                              <option value="3">Change instrument</option>
                              <option value="4">Play/stop (bagless mode)</option>
                              <option value="5">Octave shift up</option>
                              <option value="6">Octave shift down</option>
                              <option value="10">Semitone shift up</option>
                              <option value="11">Semitone shift down</option>
                              <option value="7">MIDI Panic</option>
                              <option value="8">Change register control mode</option>
                              <option value="9">Turn drones on/off</option>
                              <option value="12" id="autoCal7">Begin autocalibration</option>
                              <option value="13">Power down</option>
                              <option value="14">Recenter yaw</option>
                              <option value="15">Show battery level</option>
                           </select>
                        </div>
                        <div class="styled-select blue semi-square">
                           <select id="row9" onChange="sendRow(9)">
                              <option value="0">none</option>
                              <option value="1">Send MIDI message:</option>
                              <option value="2">Change slide/vibrato mode</option>
                              <option value="3">Change instrument</option>
                              <option value="4">Play/stop (bagless mode)</option>
                              <option value="5">Octave shift up</option>
                              <option value="6">Octave shift down</option>
                              <option value="10">Semitone shift up</option>
                              <option value="11">Semitone shift down</option>
                              <option value="7">MIDI Panic</option>
                              <option value="8">Change register control mode</option>
                              <option value="9">Turn drones on/off</option>
                              <option value="12" id="autoCal7">Begin autocalibration</option>
                              <option value="13">Power down</option>
                              <option value="14">Recenter yaw</option>
                              <option value="15">Show battery level</option>
                           </select>
                        </div>
                     </div>
                  </div>
                  <div class="messageContainer">
                     <div class="styled-select2 blue semi-square">
                        <select id="MIDIrow0" onChange="sendMIDIrow(0)">
                           <option value="0">Note on/note off</option>
                           <option value="1">CC</option>
                           <option value="2">Send PC</option>
                           <option value="3">Increase PC</option>
                           <option value="4">Decrease PC</option>
                        </select>
                     </div>
                     <div class="styled-select2 blue semi-square">
                        <select id="MIDIrow1" onChange="sendMIDIrow(1)">
                           <option value="0">Note on/note off</option>
                           <option value="1">CC</option>
                           <option value="2">Send PC</option>
                           <option value="3">Increase PC</option>
                           <option value="4">Decrease PC</option>
                        </select>
                     </div>
                     <div class="styled-select2 blue semi-square">
                        <select id="MIDIrow2" onChange="sendMIDIrow(2)">
                           <option value="0">Note on/note off</option>
                           <option value="1">CC</option>
                           <option value="2">Send PC</option>
                           <option value="3">Increase PC</option>
                           <option value="4">Decrease PC</option>
                        </select>
                     </div>
                     <div class="styled-select2 blue semi-square">
                        <select id="MIDIrow3" onChange="sendMIDIrow(3)">
                           <option value="0">Note on/note off</option>
                           <option value="1">CC</option>
                           <option value="2">Send PC</option>
                           <option value="3">Increase PC</option>
                           <option value="4">Decrease PC</option>
                        </select>
                     </div>
                     <div class="styled-select2 blue semi-square">
                        <select id="MIDIrow4" onChange="sendMIDIrow(4)">
                           <option value="0">Note on/note off</option>
                           <option value="1">CC</option>
                           <option value="2">Send PC</option>
                           <option value="3">Increase PC</option>
                           <option value="4">Decrease PC</option>
                        </select>
                     </div>
                     <div class="styled-select2 blue semi-square">
                        <select id="MIDIrow5" onChange="sendMIDIrow(5)">
                           <option value="0">Note on/note off</option>
                           <option value="1">CC</option>
                           <option value="2">Send PC</option>
                           <option value="3">Increase PC</option>
                           <option value="4">Decrease PC</option>
                        </select>
                     </div>
                     <div class="styled-select2 blue semi-square">
                        <select id="MIDIrow6" onChange="sendMIDIrow(6)">
                           <option value="0">Note on/note off</option>
                           <option value="1">CC</option>
                           <option value="2">Send PC</option>
                           <option value="3">Increase PC</option>
                           <option value="4">Decrease PC</option>
                        </select>
                     </div>
                     <div class="styled-select2 blue semi-square">
                        <select id="MIDIrow7" onChange="sendMIDIrow(7)">
                           <option value="0">Note on/note off</option>
                           <option value="1">CC</option>
                           <option value="2">Send PC</option>
                           <option value="3">Increase PC</option>
                           <option value="4">Decrease PC</option>
                        </select>
                     </div>
                     <div class="WARBL2Elements">
                        <div class="styled-select2 blue semi-square">
                           <select id="MIDIrow8" onChange="sendMIDIrow(8)">
                              <option value="0">Note on/note off</option>
                              <option value="1">CC</option>
                              <option value="2">Send PC</option>
                              <option value="3">Increase PC</option>
                              <option value="4">Decrease PC</option>
                           </select>
                        </div>
                        <div class="styled-select2 blue semi-square">
                           <select id="MIDIrow9" onChange="sendMIDIrow(9)">
                              <option value="0">Note on/note off</option>
                              <option value="1">CC</option>
                              <option value="2">Send PC</option>
                              <option value="3">Increase PC</option>
                              <option value="4">Decrease PC</option>
                           </select>
                        </div>
                     </div>
                  </div>
                  <div class="channelLabel noTouch">Channel<br />(1-16)</div>
                  <div class="byte2Label noTouch">Byte 2<br />(0-127)</div>
                  <div class="byte3Label noTouch">Byte 3<br />(0-127)</div>
                  <div class="channelInputContainer">
                     <input class="channelInput" type="text" onChange="sendChannel(0)" id="channel0" value="" />
                     <input class="channelInput" type="text" onChange="sendChannel(1)" id="channel1" value="" />
                     <input class="channelInput" type="text" onChange="sendChannel(2)" id="channel2" value="" />
                     <input class="channelInput" type="text" onChange="sendChannel(3)" id="channel3" value="" />
                     <input class="channelInput" type="text" onChange="sendChannel(4)" id="channel4" value="" />
                     <input class="channelInput" type="text" onChange="sendChannel(5)" id="channel5" value="" />
                     <input class="channelInput" type="text" onChange="sendChannel(6)" id="channel6" value="" />
                     <input class="channelInput" type="text" onChange="sendChannel(7)" id="channel7" value="" />
                     <div class="WARBL2Elements">
                        <input class="channelInput" type="text" onChange="sendChannel(8)" id="channel8" value="" />
                        <input class="channelInput" type="text" onChange="sendChannel(9)" id="channel9" value="" />
                     </div>
                  </div>
                  <div class="byte2inputContainer">
                     <input class="channelInput" type="text" onChange="sendByte2(0)" id="byte2_0" value="" />
                     <input class="channelInput" type="text" onChange="sendByte2(1)" id="byte2_1" value="" />
                     <input class="channelInput" type="text" onChange="sendByte2(2)" id="byte2_2" value="" />
                     <input class="channelInput" type="text" onChange="sendByte2(3)" id="byte2_3" value="" />
                     <input class="channelInput" type="text" onChange="sendByte2(4)" id="byte2_4" value="" />
                     <input class="channelInput" type="text" onChange="sendByte2(5)" id="byte2_5" value="" />
                     <input class="channelInput" type="text" onChange="sendByte2(6)" id="byte2_6" value="" />
                     <input class="channelInput" type="text" onChange="sendByte2(7)" id="byte2_7" value="" />
                     <div class="WARBL2Elements">
                        <input class="channelInput" type="text" onChange="sendByte2(6)" id="byte2_8" value="" />
                        <input class="channelInput" type="text" onChange="sendByte2(7)" id="byte2_9" value="" />
                     </div>
                  </div>
                  <div class="byte3inputContainer">
                     <input class="channelInput" type="text" onChange="sendByte3(0)" id="byte3_0" value="" />
                     <input class="channelInput" type="text" onChange="sendByte3(1)" id="byte3_1" value="" />
                     <input class="channelInput" type="text" onChange="sendByte3(2)" id="byte3_2" value="" />
                     <input class="channelInput" type="text" onChange="sendByte3(3)" id="byte3_3" value="" />
                     <input class="channelInput" type="text" onChange="sendByte3(4)" id="byte3_4" value="" />
                     <input class="channelInput" type="text" onChange="sendByte3(5)" id="byte3_5" value="" />
                     <input class="channelInput" type="text" onChange="sendByte3(6)" id="byte3_6" value="" />
                     <input class="channelInput" type="text" onChange="sendByte3(7)" id="byte3_7" value="" />
                     <div class="WARBL2Elements">
                        <input class="channelInput" type="text" onChange="sendByte3(6)" id="byte3_8" value="" />
                        <input class="channelInput" type="text" onChange="sendByte3(7)" id="byte3_9" value="" />
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="controlbox">
            <h2 class="controlboxtitle noTouch">
               Optical Sensor Calibration
               <button type="button" class="infocircle" onClick="modal(9)">  <img  class = "info" src="img/info-circle.svg"></img></button>
            </h2>
            <div class="warblrect"></div>
            <div class="mouthpiece">
               <?xml version="1.0" encoding="utf-8" ?>
               <!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
               <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
               <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                  width="412px" height="592px" viewBox="0 0 612 792" enable-background="new 0 0 612 792" xml:space="preserve">
                  <g>
                     <rect x="343.223" y="326.889" fill="##080808" stroke="##080808" stroke-miterlimit="10" width="100.555" height="91.111" />
                     <polyline fill="##080808" stroke="##080808" stroke-miterlimit="10" points="343.223,418 324.333,408 125.444,408 125.444,341.697
                        125.444,336.889 130.253,336.889 324.333,336.889 343.223,326.889 	" />
                  </g>
                  <g>
                     <rect x="343.223" y="326.889" fill="#171717" width="100.555" height="50.648" />
                     <polyline fill="#171717" points="343.223,377.537 324.333,373.711 125.444,373.711 125.444,336.889 324.333,336.889
                        343.223,326.889 	" />
                  </g>
                  <g>
                     <rect x="343.223" y="351.562" fill="#212121" width="100.555" height="11.959" />
                     <polyline fill="#212121" points="343.223,363.521 324.333,362.209 125.444,362.209 125.444,352.875 324.333,352.875
                        343.223,351.562 	" />
                  </g>
               </svg>
            </div>
            <div id="bellSensor" class="bellsensorrect"></div>
            <div id="dot0" class="bell-dot"></div>
            <div class="leddot" id="leddot"></div>
            <div id="dot8" class="dots dot1"></div>
            <div id="dot7" class="dots dot2"></div>
            <div id="dot6" class="dots dot3"></div>
            <div id="dot5" class="dots dot4"></div>
            <div id="dot4" class="dots dot5"></div>
            <div id="dot3" class="dots dot6"></div>
            <div id="dot2" class="dots dot7"></div>
            <div id="dot1" class="dots dot8"></div>
            <button type="button" class="smallbutton noTouch submitcalibration" id="19" onClick="sendToWARBL(102,19)">Save fine calibration</button>
            <button type="button" class="smallbutton noTouch autoCalibrate" id="autoCalibrate" onClick="autoCalibrate()">Auto-calibrate all sensors</button>
            <button type="button" class="smallbutton noTouch autoCalibrateBell" id="autoCalibrateBell" onClick="autoCalibrateBell()">Auto-calibrate bell sensor only</button>
            <button type="button" class="toprowbuttons button b1" id="18" onClick="sendToWARBL(102,18)"><img class = "info" src="img/angle-up.svg"></img></button>
            <button type="button" class="bottomrowbuttons button b1" id="17" onClick="sendToWARBL(102,17)"><img class = "info" src="img/angle-down.svg"></img></button>
            <button type="button" class="toprowbuttons button b2" id="16" onClick="sendToWARBL(102,16)"><img class = "info" src="img/angle-up.svg"></img></button>
            <button type="button" class="bottomrowbuttons button b2" id="15" onClick="sendToWARBL(102,15)"><img class = "info" src="img/angle-down.svg"></img></i></button>
            <button type="button" class="toprowbuttons button b3" id="14" onClick="sendToWARBL(102,14)"><img class = "info" src="img/angle-up.svg"></img></button>
            <button type="button" class="bottomrowbuttons button b3" id="13" onClick="sendToWARBL(102,13)"><img class = "info" src="img/angle-down.svg"></img></button>
            <button type="button" class="toprowbuttons button b4" id="12" onClick="sendToWARBL(102,12)"><img class = "info" src="img/angle-up.svg"></img></button>
            <button type="button" class="bottomrowbuttons button b4" id="11" onClick="sendToWARBL(102,11)"><img class = "info" src="img/angle-down.svg"></img></button>
            <button type="button" class="toprowbuttons button b5" id="10" onClick="sendToWARBL(102,10)"><img class = "info" src="img/angle-up.svg"></img></button>
            <button type="button" class="bottomrowbuttons button b5" id="9" onClick="sendToWARBL(102,9)"><img class = "info" src="img/angle-down.svg"></img></button>
            <button type="button" class="toprowbuttons button b6" id="8" onClick="sendToWARBL(102,8)"><img class = "info" src="img/angle-up.svg"></img></button>
            <button type="button" class="bottomrowbuttons button b6" id="7" onClick="sendToWARBL(102,7)"><img class = "info" src="img/angle-down.svg"></img></button>
            <button type="button" class="toprowbuttons button b7" id="6" onClick="sendToWARBL(102,6)"><img class = "info" src="img/angle-up.svg"></img></button>
            <button type="button" class="bottomrowbuttons button b7" id="5" onClick="sendToWARBL(102,5)"><img class = "info" src="img/angle-down.svg"></img></button>
            <button type="button" class="toprowbuttons button b8" id="4" onClick="sendToWARBL(102,4)"><img class = "info" src="img/angle-up.svg"></img></button>
            <button type="button" class="bottomrowbuttons button b8" id="3" onClick="sendToWARBL(102,3)"><img class = "info" src="img/angle-down.svg"></img></button>
            <button type="button" class="toprowbuttons button b9" id="2" onClick="sendToWARBL(102,2)" disabled=disabled><img class = "info" src="img/angle-up.svg"></img></button>
            <button type="button" class="bottomrowbuttons button b9" id="1" onClick="sendToWARBL(102,1)" disabled=disabled><img class = "info" src="img/angle-down.svg"></img></i></button>
            <div class="sensorvalue noTouch b1" id="v9">0</div>
            <div class="sensorvalue noTouch b2" id="v8">0</div>
            <div class="sensorvalue noTouch b3" id="v7">0</div>
            <div class="sensorvalue noTouch b4" id="v6">0</div>
            <div class="sensorvalue noTouch b5" id="v5">0</div>
            <div class="sensorvalue noTouch b6" id="v4">0</div>
            <div class="sensorvalue noTouch b7" id="v3">0</div>
            <div class="sensorvalue noTouch b8" id="v2">0</div>
            <div class="sensorvalue noTouch b9" id="v1">0</div>
         </div>
         <div class="WARBL2controlbox" id="WARBL2Settings">
            <h2 class="controlboxtitle noTouch">
               WARBL2 Settings
               <button type="button" class="infocircle" onClick="modal(23)">  <img  class = "info" src="img/info-circle.svg"></img></button>
            </h2>
            <div class="voltageLabel noTouch" id="voltageLabel">
               Battery voltage
            </div>
            <div class="chargingLabel noTouch" id="chargingLabel">
               Not charging
            </div>
            <div class="connLabel noTouch" id="connLabel">
               BLE not connected
            </div>
            <div class="percentage noTouch" id="percentage">
               50%
            </div>
            <div class="voltage noTouch" id="voltage"></div>
            <div class="battery" id="battery100">
               <?xml version="1.0" encoding="utf-8" ?>
               <!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
               <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
               <svg version="1.1" id="Default" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                  width="115.495px" height="77.996px" viewBox="0 0 115.495 77.996" enable-background="new 0 0 115.495 77.996"
                  xml:space="preserve">
                  <rect x="26.909" y="30.48" fill="#262626" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="61.583" height="24.636" />
                  <rect x="72.852" y="31.464" fill="#F7C839" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="14.656" height="22.668" />
                  <rect x="58.195" y="31.464" fill="#F7C839" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="13.671" height="22.668" />
                  <rect x="43.539" y="31.464" fill="#F7C839" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="13.671" height="22.668" />
                  <rect x="27.894" y="31.464" fill="#F7C839" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="14.656" height="22.668" />
                  <rect x="88.492" y="38.737" fill="#262626" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="4.629" height="8.121" />
               </svg>
            </div>
            <div class="battery" id="battery75">
               <?xml version="1.0" encoding="utf-8" ?>
               <!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
               <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
               <svg version="1.1" id="Default" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                  width="115.495px" height="77.996px" viewBox="0 0 115.495 77.996" enable-background="new 0 0 115.495 77.996"
                  xml:space="preserve">
                  <rect x="26.909" y="30.48" fill="#262626" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="61.583" height="24.636" />
                  <rect x="58.195" y="31.464" fill="#F7C839" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="13.671" height="22.668" />
                  <rect x="43.539" y="31.464" fill="#F7C839" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="13.671" height="22.668" />
                  <rect x="27.894" y="31.464" fill="#F7C839" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="14.656" height="22.668" />
                  <rect x="88.492" y="38.737" fill="#262626" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="4.629" height="8.121" />
               </svg>
            </div>
            <div class="battery" id="battery50">
               <?xml version="1.0" encoding="utf-8" ?>
               <!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
               <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
               <svg version="1.1" id="Default" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                  width="115.495px" height="77.996px" viewBox="0 0 115.495 77.996" enable-background="new 0 0 115.495 77.996"
                  xml:space="preserve">
                  <rect x="26.909" y="30.48" fill="#262626" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="61.583" height="24.636" />
                  <rect x="43.539" y="31.464" fill="#F7C839" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="13.671" height="22.668" />
                  <rect x="27.894" y="31.464" fill="#F7C839" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="14.656" height="22.668" />
                  <rect x="88.492" y="38.737" fill="#262626" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="4.629" height="8.121" />
               </svg>
            </div>
            <div class="battery" id="battery25">
               <?xml version="1.0" encoding="utf-8" ?>
               <!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
               <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
               <svg version="1.1" id="Default" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                  width="115.495px" height="77.996px" viewBox="0 0 115.495 77.996" enable-background="new 0 0 115.495 77.996"
                  xml:space="preserve">
                  <rect x="26.909" y="30.48" fill="#262626" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="61.583" height="24.636" />
                  <rect x="27.894" y="31.464" fill="#F7C839" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="14.656" height="22.668" />
                  <rect x="88.492" y="38.737" fill="#262626" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="4.629" height="8.121" />
               </svg>
            </div>
            <div class="battery" id="battery0">
               <?xml version="1.0" encoding="utf-8" ?>
               <!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
               <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
               <svg version="1.1" id="Default" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                  width="115.495px" height="77.996px" viewBox="0 0 115.495 77.996" enable-background="new 0 0 115.495 77.996"
                  xml:space="preserve">
                  <rect x="26.909" y="30.48" fill="#262626" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="61.583" height="24.636" />
                  <rect x="88.492" y="38.737" fill="#262626" stroke="#262626" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" width="4.629" height="8.121" />
               </svg>
            </div>
            <div class="charging" id="charging">
               <?xml version="1.0" encoding="utf-8" ?>
               <!-- Generator: Adobe Illustrator 15.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
               <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
               <svg version="1.1" id="Default" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                  width="115.495px" height="77.996px" viewBox="0 0 115.495 77.996" enable-background="new 0 0 115.495 77.996"
                  xml:space="preserve">
                  <polyline fill="#F7C839" stroke="#000000" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" points="
                     57.83,49.544 65.126,34.935 60.58,34.935 62.917,23.453 55.617,38.063 59.945,38.063 57.609,49.544 " />
               </svg>
            </div>
            <button type="button" class="calibrateIMUbutton smallbutton noTouch" id="calibrateIMU" onClick="calibrateIMU()">Calibrate Gyro</button>
            <button type="button" class="centerYawbutton smallbutton noTouch" id="centerYaw" onClick="centerYaw()">Recenter Yaw</button>
            <div class="hostLabel noTouch">Charge from USB hosts</div>
            <label class="switch" id="switch19">
            <input type="checkbox" class="checkboxes" id="checkbox19" onChange="sendHost(this.checked)" checked=checked />
            <span class="slider round"></span>
            </label>
            <div class="radiogroup11">
               <fieldset>
                  <div>
                     <input type="radio" value="0" name="WARBL2Radio" id="WARBL2Radio0" onChange="WARBL2Radio(value)" />
                     <label for="WARBL2Radio0"> <span><span></span></span>Send USB MIDI</label>
                  </div>
                  <div>
                     <input type="radio" value="1" name="WARBL2Radio" id="WARBL2Radio1" onChange="WARBL2Radio(value)" />
                     <label for="WARBL2Radio1"><span><span></span></span>Send BLE MIDI</label>
                  </div>
                  <div>
                     <input type="radio" value="2" name="WARBL2Radio" id="WARBL2Radio2" onChange="WARBL2Radio(value)" checked=checked />
                     <label for="WARBL2Radio2"><span><span></span></span>Send both</label>
                  </div>
                  <div>
                  </div>
               </fieldset>
               <div class="slidecontainer" id="poweroffContainer">
                  <input type="range" min="1" max="20" value="5" class="ranger" id="poweroffSlider" onChange="sendPoweroff(value)" />
               </div>
               <div id="poweroffLabel" class="noTouch poweroffLabel">Auto power off time (minutes)</div>
               <div class="noTouch poweroffValue">
                  <p><span id="poweroffValue"></span></p>
               </div>
            </div>
         </div>
         <div id="importexport" class="importexportbox">
            <h2 class="importexportboxtitle noTouch">
               Preset Import/Export
               <button type="button" class="infocircle" onClick="modal(15)">  <img  class = "info" src="img/info-circle.svg"></img></button> 
            </h2>
            <!-- <input type="file" name="importPreset" id="importPreset" class="warbl-preset-import" accept=".warbl" onChange="importPreset(this)">  -->
            <label for="importPreset" class="importPreset">
            Import Preset
            </label>
            <input id="importPreset" type="file" accept=".warbl" onChange="importPreset(this)" disabled=disabled />
            <button type="button" class="smallbutton noTouch importexportbutton" id="exportPreset" onClick="exportPreset()">Export Preset</button>
         </div>
         <div id="open-modal2" onClick="" class="modal-window">
            <div id="modal-center2">
               <h1></h1>
               <div>Save settings for this instrument?</div>
               <div class="modal-footer">
                  <button type="submit" class="smallbutton noTouch okay" onClick="saveAsDefaults()">OK</button>
                  <button type="button" class="smallbutton noTouch cancel" onClick="modalclose(2)">Cancel</button>
               </div>
            </div>
         </div>
         <div id="open-modal3" onClick="" class="modal-window">
            <div id="modal-center3">
               <h1></h1>
               <div>Apply these settings to all three instruments?</div>
               <div class="modal-footer">
                  <button type="submit" class="smallbutton noTouch okay" onClick="saveAsDefaultsForAll()">OK</button>
                  <button type="button" class="smallbutton noTouch cancel" onClick="modalclose(3)">Cancel</button>
               </div>
            </div>
         </div>
         <div id="open-modal4" onClick="" class="modal-window">
            <div id="modal-center4">
               <h1></h1>
               <div>Are you sure you would like to restore all factory settings?</div>
               <div class="modal-footer">
                  <button type="submit" class="smallbutton noTouch okay" onClick="restoreAll()">OK</button>
                  <button type="button" class="smallbutton noTouch cancel" onClick="modalclose(4)">Cancel</button>
               </div>
            </div>
         </div>
         <div id="open-modal6" onClick="" class="modal-window">
            <div id="modal-center6">
               <h2 title="Close" onClick="modalclose(6)" class="modal-close">Close</h2>
               <h1>Note Trigger and Register Control</h1>
               <div>
                  <p>
                     You can play in a single register or choose from several options for controlling the register. Choosing <b>1. Single register</b> will allow you to use breath or bag pressure to start/stop notes, but will only allow access to one register. The pressure sensor can be used to mimic the way that whistles, flutes, and some bagpipes can be "overblown" to reach the second octave. To use this feature, select <b>2. Overblow</b>. For fingering patterns that don't use the left thumb, you can instead select <b>3. Thumb register</b> to allow you use that finger to control the register, which will be familiar to players of many woodwind instruments. To play the upper register, simply uncover the thumb hole. Finally, you can use the "bell" sensor to select the register by choosing <b>4. Bell register</b>. Uncovering the bell sensor (lifting it off your knee), will access the second register. The functionality for either of these two options can be reversed by turning on the <b>Invert thumb/bell</b> switch. Then covering the left thumb hole or covering the bell sensor will allow playing in the second register, depending on whether option 3 or 4 is selected. In the case of the thumb hole, this will be more familiar to players of instruments with a register key.
                  </p>
                  <p>
                     Note you can also use the IMU (elevation angle) to control the register. This is discussed in the <b>Pressure and IMU Mapping</b> section.
                  </p>
                  <p>
                     Turning on <b>Bagless mode</b> will allow you to configure a button to start/stop the sound instead of using the pressure sensor. This will be similar to many electronic bagpipe chanters that don't use pressure sensing. If you choose you can still select one of the options for controlling the register when using bagless mode. <b>Note:</b> if you choose the bagless option you must also configure a button to <b>Play/stop (bagless mode)</b>.
                  </p>
                  <p>
                     The pressure sensor will normally be calibrated at startup, meaning that the pressure when you plug in the device will be used as a basepoint for determining the pressure level at which sound will be triggered. This is desirable if you are using breath to control the instrument. If you are using a bag with this setting, you will want to squeeze the bag when you plug WARBL in to "tell" it the pressure at which you want notes to begin playing. Alternatively, you can select <b>Learn or enter pressure</b> to use a different pressure. This is usually preferable if you are using a bag instead of breath, and you want to trigger notes at a higher pressure. You can squeeze the bag at the pressure that you would like to use for initial triggering of sound and then click <b>Learn</b>, which will cause WARBL to use the current pressure (as with all settings, you can save this pressure by saving the settings for the current instrument). After clicking <b>Learn</b>, the pressure input cell will flash green and the learned pressure will be displayed. You can also enter the desired pressure manually if you prefer. Simply type in a pressure between 0.0 and 24.0 (inches water) and hit return or enter. The input cell will momentarily turn green to indicate that the pressure setting was sent to WARBL.
                  </p>
                  <p>
                     Selecting <b>Bag</b> will cause the overblowing settings for bagpipe bags to be used, while selecting <b>Breath</b> will cause the settings for breath (mouthpiece) to be used. These settings are customizable using the <b>Advanced</b> panel if desired (please see the help file within the Advanced panel for information about these settings). If you have an original WARBL with firmware version 2.0 or earlier, you will see a "Vented" switch instead of the bag/breath options.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal7" onClick="" class="modal-window">
            <div id="modal-center7">
               <h2 title="Close" onClick="modalclose(7)" class="modal-close">Close</h2>
               <h1>Finger Vibrato and Slide</h1>
               <div>
                  <p>
                     WARBL mimics open-tone hole instruments by sensing the distance of your fingers from the holes and using this information to bend notes downward. It can detect your fingers a maximum of about 1 cm (~1/2") from the holes.
                  </p>
                  <p>
                     You can choose <b>1. Slide and vibrato</b>, <b>2. Vibrato only</b>, or <b>3. No pitch bend</b>, or <b>4. Legato slide/vibrato</b>. The way <b>slide</b> works is that lowering the finger over the highest uncovered hole will gradually flatten the current note down to the next lower note on the scale, much like on a real instrument. This can also allow you to approximate "half-holing" accidentals. Because of the nature of note transitions in MIDI, sliding between notes can sometimes result in a slight "popping" sound when the new note is triggered. This is quite apparent with some sounds like whistles and less so with other sounds like reed instruments. Whether you choose to use slide may depend partly on the MIDI host and sounds that you're using. The normal slide feature is limited to a maximum of 2 semitones before a different MIDI note is triggered.
                  </p>
                  <p>
                     The <b>4. Legato slide/vibrato</b> feature is different from the normal slide in that it allows you to slide seamlessly over a range of more than 2 semitones without triggering a new MIDI note. The sliding range is determined by the <b>MIDI bend range (semitones)</b> setting at the top of the Configuration Tool and the <b>Legato slide limit (semitones)</b> setting in the <b>Advanced Pitch Bend Settings</b> panel. For proper slide and vibrato results, the pitch bend range in the MIDI app or host that you are using <b>must be set to the same number of semitones</b> as the <b>MIDI bend range (semitones) setting</b>. The Legato slide/vibrato feature also uses additional holes as "slide holes": Rather than using only the highest uncovered hole, it uses any hole that would normally cause a new note to be triggered if it was covered.
                  </p>
                  <p>
                     With <b>vibrato</b>, lowering fingers over any open holes (other than the "slide" hole, if you also have slide turned on) will gradually flatten the note down to the selected maximum vibrato depth. The pitch bend contributed by each hole is cumulative, meaning that lowering fingers over multiple holes simultaneously will flatten the note more than lowering just one finger. This gives control over the amount of vibrato, and can be used to simulate sliding even when "slide" isn't turned on. If a finger is covering a hole when a note is triggered and subsequently lifting that finger doesn't cause a different note to be triggered, then that finger will be available to use for vibrato. However, to enable that finger, you first must remove it completely, past where WARBL can first detect it. This is to prevent problems with closed fingering patterns. As an example of how this works, if you trigger a note, completely remove a finger (one that doesn't change the current note), and then place it back down, the resulting pitch will be lower than the originally triggered note because vibrato has been enabled. This is usually intuitive, but it's important to understand because in certain cases it might not be immediately apparent why the resulting pitch is lower than the original pitch.
                  </p>
                  <p>
                     You can select at the bottom of the panel which holes you'd like to have available for vibrato. If you normally only use a few fingers for vibrato, you may want to select only those holes, to prevent unwanted behavior.
                  </p>
                  <p>
                     <b>Custom vibrato</b> is a different vibrato option that is only available for some fingering patterns (currently tin whistle, uilleann pipes, GHB, and Northumbrian pipes). For <b>tin whistle and uilleann pipes</b>, the differences from normal vibrato are as follows: 1. Only the first and/or second fingers of the right hand are available for vibrato, depending on the fingering pattern (you cannot select vibrato holes if this option is turned on). 2. Vibrato is not cumulative, meaning that lowering more than one finger doesn't increase the vibrato depth. 3. If a vibrato hole is covered when a note is triggered, the note is immediately flattened (this is the major difference and may be more natural in certain circumstances). 4. When playing a back D with uilleann fingering, uncovering a vibrato hole actually lowers the pitch instead of raising it, which is how real pipes behave. For <b>GHB and Northumbrian pipes</b>, the custom vibrato is designed for closed fingering systems, and sharpens the note when finger R2 or R3 is raised from a closed fingering position (as opposed to the normal vibrato, where lowering a finger from an open position flattens a note).
                  </p>
                  <p>
                     Note that custom vibrato is not available when any unsupported fingering pattern has been chosen.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal17" onClick="" class="modal-window">
            <div id="modal-center17">
               <h2 title="Close" onClick="modalclose(17)" class="modal-close">Close</h2>
               <h1>Advanced Pitch Bend Settings</h1>
               <div>
                  <p>
                     These settings can be left unchanged by many users, but give more control over how WARBL sends pitch bend messages.
                  </p>
                  <p>
                     The <b>finger-sensing distance</b> is the relative distance at which the toneholes sense your fingers for slide and vibrato. You can reduce this distance using the slider if you don't want to have to remove your fingers as far from the holes to turn off the pitch bend. The downside is that you'll have less precision in bending notes.
                  </p>
                  <p>
                     The <b>Vibrato depth (cents)</b> slider determines the degree to which notes are bent when using finger vibrato.
                  </p>
                  <p>
                     The <b>Legato slide limit (semitones)</b> setting determines the maximum range for sliding if you are using the <b>4. Legato slide/vibrato option</b>. Note that the <b>MIDI bend range (semitones)</b> must also be set at least as high, and you must also always set the MIDI pitch bend range in whatever MIDI app or host you are using to the same value as the <b>MIDI bend range (semitones)</b> setting.
                  </p>
                  <p>
                     Normally WARBL sends a pitchbend message after a new MIDI note is turned on. Some users may instead wish to send pitch bend before the note is turned on by using the <b>Send pitch bend immediately before Note On</b> switch. This may cause pitch bend audio artifacts with some MIDI apps but is the recommended setting for MIDI MPE.
                  </p>
                  <p>
                     The <b>Send notes as legato</b> switch cause WARBL to wait to turn off each MIDI note until after the next note is sent. This is the recommended setting for most apps and allows many apps to interpret the notes as legato, allowing them to flow seamlessly together.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal8" onClick="" class="modal-window">
            <div id="modal-center8">
               <h2 title="Close" onClick="modalclose(8)" class="modal-close">Close</h2>
               <h1>Button Behavior</h1>
               <div>
                  <p>
                     The three buttons can be programmed to perform different actions. This is useful for sending special commands to MIDI apps or customizing the ability to switch modes. Note that it can be confusing if you assign different buttons actions in the three different instruments, so it may be useful to use the same actions in all three.
                  </p>
                  <p>
                     New to WARBL2 there are two additional actions included with the "button" actions: You can either <b>"sip"</b> the mouthpiece or <b>shake</b> the device to trigger commands. Because these are both relatively easy to do accidentally, it is recommended to only use these for commands that won't have adverse effects or cause confusion if triggered accidentally. Example uses might be recentering the yaw or MIDI panic. 
                  </p>
                  <p>
                     If a button click is configured to send MIDI Note On/Note Off messages, the normal behavior is to alternate between sending Note On and Note Off messages each time the button is "clicked" (the action actually occurs when the button is released). There is also the option to choose <b>momentary</b> behavior, meaning that the button will send a Note On message when pressed and a Note Off message when released. This is useful if you only want a note to be on when the button is held down, for example for mimicking uilleann pipe regulators. Note: If <b>momentary</b> is selected, other actions using that same button will be disabled, because it's not possible to differentiate other intentions from a momentary press.
                  </p>
                  <p>
                  New in firmware version 4.2 (WARBL2 only), you can turn on the <b>Use button double-clicks</b> switch to require double-clicks instead of single-clicks for all three buttons. This can help prevent accidentally clicking the buttons. If a <b>Momentary</b> switch is turned on for a particular button, then the Use button double-clicks switch is ignored for that button.
                  </p>
                  <p>
                     If you are sending Note On/Note Off messages, <b>byte 2</b> is the MIDI note number, and <b>byte 3</b> is velocity. If you are sending CC messages, <b>byte 2</b> is the CC number and <b>byte 3</b> is the value.
                  </p>
                  <p>
                     Please note that CC messages 102-119 on channel 7 are reserved for the Configuration Tool, so WARBL cannot be programmed to send additional messages in this range.
                  </p>
                  <p>
                  If you are sending a CC message and the <b>momentary</b> switch is turned on, a CC message with a value of 0 will be sent when the button is released. When initially clicked, a message with the value that you entered for Byte 3 will be sent. This behavior can be used for on/off CC messages like CC 64-69. 
                  </p>
                  <p>
                     Selecting <b>Send PC</b> will send a Program Change message to the selected channel. This would be useful, for example, to select a particular instrument in a MIDI host app. <b>Increase PC</b> and <b>Decrease PC</b> are different in that they assume a Program Change value of 1 when WARBl is started, and then increase or decrease it from there. For example, clicking a button assigned to <b>Increase PC</b> after starting WARBL will send a PC message of 2 on the selected channel. These commands are useful for consecutively stepping through the available sounds in a MIDI app.
                  </p>
                  <p>
                     The <b>momentary</b> switches can also be used when you have selected <b>Octave shift up</b>, <b>Octave shift down</b>, <b>Semitone shift up</b>, or <b>semitone shift down</b>. This allows you to use a button to momentarily shift the octave or key, extending the range of the instrument and allowing any button to act as a "key" for sharpening or flattening a note.
                  </p>
                  <p>
                     A button can be assigned to <b>begin autocalibration</b>. This can be useful if you anticipate needing to autocalibrate when you don't have access to the Configuration Tool. However, you'll want to use a button combination that can't be triggered accidentally, for example holding button 2 and clicking either button 1 or button 3. Also, when you begin autocalibration with a button combination, you need to be careful not to cover any of the sensors while pressing the buttons, because if you are pressing firmly on the sensors when autocalibration begins it will give WARBL incorrect examples of covered sensors.
                  </p>
                  <p>
                     By default, a long-press of button 3 will <b>power down</b> the WARBL2. If you'd prefer not to use a button to power down the device you can choose to let it power down automatically (see the WARBL2 Settings panel).
                  </p>
                  <p>
                     On WARBL2 you can also set a button action to <b>recenter the yaw</b>, or <b>show the battery level</b>. When triggered, the latter will blink the LED in a turquoise color from 1-10 times according to the battery level percentage. If the battery level is lower than 10%, the LED will blink once in red.
                  </p>
                  <p>
                     The "<b>double-click</b>" option applies to the first three gestures: when active, the corresponding action will take place only after a quick double press of the button. This is intended to avoid accidental clicks while playing. When enabled, the "momentary" option takes precedence.
                  </p>
                  <p>
                     The "secret" button commands are a few additional hard-coded actions that involve covering certain tone holes while clicking button 1. These can be useful if normal button actions are used for other functions. They give you an alternative way of changing slide/vibrato mode and instrument. With the "secret" commands turned on, covering only hole L3 while pressing button 1 will change the slide/vibrato mode, and covering only R3 while pressing button 1 will change the instrument. Note that the <b>Use "secret" button commands</b> switch does not have to be on to use the "secret" drone control button, if that option is selected in the Drone Control panel.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal9" onClick="" class="modal-window">
            <div id="modal-center9">
               <h2 title="Close" onClick="modalclose(9)" class="modal-close">Close</h2>
               <h1>Optical Sensor Calibration</h1>
               <div>
                  <p>
                     The optical sensors may occasionally need to be calibrated, for example when the device is new, if a new person is playing the device, or the sensors are a bit dirty. Calibration can also be used in a pinch to compensate for having dirty hands, but it's easier to wash your hands...
                  </p>
                  <p>
                     If the calibration is far off or you want to calibrate quickly, you can run <b>auto-calibration</b>. Begin by holding WARBL in a well-lit room (but not direct sunlight) in such a way that no tone holes are covered (important because it gives WARBL examples of raw sensor readings) and then click <b>Begin auto-calibration</b>. The LED on WARBL will turn on and then you'll have ten seconds to lightly place your fingers over all the tone holes. Pressing harder on each tone hole will make it more difficult to "cover" after auto-calibration. After this the calibration should be reasonably close. Note that the bell sensor will only be calibrated if it is currently plugged in. If this is the case, rest the bell sensor on whatever surface you intend to use with it while also covering the tone holes with your fingers. Note that auto-calibration is always saved immediately; it is not necessary to click <b>Save fine calibration</b> afterward.
                  </p>
                  <p>
                     You also have the option of auto-calibrating only the bell sensor. This is useful because the sensor may respond differently depending on the type of clothing you're wearing. To do this, hold WARBL up in the air so the sensor is completely uncovered, click <b>Auto-calibrate bell sensor only</b>, and then lower the sensor onto your knee. After five seconds, the LED with turn off and the sensor will be calibrated.
                  </p>
                  <p>
                     After auto-calibration or for more frequent adjustments, you can just fine-tune each sensor individually. Clicking the up arrow will make it easier to "cover" the tone hole, while clicking the down arrow will make it more difficult. Note that when you plug in WARBL, values for each sensor will always read zero, and any changes will be relative to the current calibration. Changes to individual sensors will take place immediately so you can test them as you are changing them, but you must click <b>Save fine calibration</b> for the changes to be saved. Otherwise the calibration will be reset when WARBL is unplugged.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal10" onClick="" class="modal-window">
            <div id="modal-center10">
               <h2 title="Close" onClick="modalclose(10)" class="modal-close">Close</h2>
               <h1>WARBL Configuration Tool</h1>
               <div>
                  <p>
                     The Configuration Tool is a web page that connects to WARBL using MIDI protocol to let you customize settings.
                  </p>
                  <p>
                     Because the Configuration Tool uses the relatively new Web MIDI protocol, It is necessary to use a browser that supports Web MIDI, which currently includes Chrome, Firefox, and Opera on Windows, Mac, Linux, Chromebook, or Android. Safari unfortunately does not yet support Web MIDI, but on iOS devices you can use the free WARBL app, generously made by Michael Eskin of Appcordions.
                  </p>
                  <p>
                     The Configuration Tool will try to connect to WARBL if it is already plugged in or connected by BLE MIDI when the page is loaded, or you can click <b>Connect to WARBL</b> if it hasn't connected automatically. Once it has connected, it should show your firmware version in the upper right corner, and it will tell you if there is a firmware update available (see section 10 of the User Manual for updating the firmware). NOTE: If your firmware is not up to date, you will be able to use the Configuration Tool normally, but some options may be missing or disabled (shown in gray).
                  </p>
                  <p>
                     WARBL has three <b>"instruments"</b> available for use at any time. Each instrument consists of a fingering pattern and a set of associated settings. You can select different fingering patterns for each instrument, or you can select the same fingering pattern for more than one instrument. For example, if you only want to use tin whistle fingering, you can select that option for all three instruments, but still have three different sets of settings available at any time. You may want to have the buttons configured differently for each instrument, for example, or have different register control and/or slide/vibrato settings. 
                  </p>
                  <p>
                     Selecting the tab for each instrument allows you to change the settings for that instrument. <b>Please note</b> that WARBL responds immediately to changes to settings for each instrument, but if you don't save them, those changes will be lost when you power down WARBL.  You can choose to apply changes to settings to the current instrument (by clicking <b>Save settings for current instrument</b>), or you can choose to apply them to all three instruments (click <b>Apply to all instruments</b>).This can be useful if you want to make three instruments that are the same except for minor differences (which can be changed after applying the initial settings to all three instruments). You can also restore the original factory settings. You can set the <b>Default instrument</b> that will be active when WARBL is plugged in. This prevents having to click a button to switch instruments if your current favorite instrument is not instrument 1. To set the default instrument, simply click the tab for that instrument and then click <b>Set as Default</b>.  This change will be saved immediately.
                  </p>
                  <p>
                     The <b>MIDI note</b> display will show what MIDI note is currently being played, and the <b>MIDI Console</b> will show the most recent 300 MIDI messages that have been received. These are both useful for troubleshooting.
                  </p>
                  <p>
                     The <b>Fingering pattern</b> dropdown menu allows you to choose a fingering chart. Information about each chart is available on the <b>Documentation</b> web page. Note that there are four <b>Custom</b> charts available at the bottom of the list (see Custom Fingering Configuration below).
                  </p>
                  <p>
                     The <b>Transpose</b> menu allows you to change keys. With WARBL2, if this is set to 0 (the default) then the selected fingering chart will produce the notes shown in the documentation. You can transpose up or down as much as 18 semitones to play in different keys. Most MIDI apps also allow transposing the received MIDI notes, and often it is simpler to do this in the MIDI app rather than in the Configuration Tool. With the original WARBL, this menu will default to an offset value, but will still play by default in the key shown in the documentation.
                  </p>
                  <p>
                     The <b>Note channel</b> input allows you to select the MIDI channel (1-16) used for sending notes from WARBL. This should typically be left set to "1".
                  </p>
                  <p>
                     The <b>Bend Range</b> setting is the number of semitones of pitch bend that the WARBL will allow. This should typically be set to the default value of 2.
                  </p>
                  <p>
                     The <b>Transient note filter</b> filters out very brief unwanted notes by adding a small delay to the tonehole sensors. This can be particularly useful when using note annotation software to transcribe your playing. Without the filter, there can be very brief notes that you might not necessarily hear but that will be transcribed. The filter can also be used to "clean up" the sound of your playing by removing "crossing noises" that occur while changing from one fingering pattern to another. Be aware, however, that because the filter works by adding a delay, setting it too high will give a "sluggish" feel. Set it to "0" for the fastest possible tonehole response.
                  </p>
                  <p>
                     The Configuration Tool can produce basic sounds if you click the volume icon in the upper-left corner. This is meant for testing purposes only and the sound will not respond to pitch-bend commands or CC messages. On iOS devices it's also usually possible to have other MIDI apps running at the same time as the Configuration Tool, which is preferable and will give you higher-quality sound. 
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal11" onClick="" class="modal-window">
            <div id="modal-center11">
               <h2 title="Close" onClick="modalclose(11)" class="modal-close">Close</h2>
               <h1>Advanced Register Control Settings</h1>
               <div>
                  <p>
                     These settings control the way that the register is changed by overblowing. Each variable below has a setting for a <b>bag</b> and one for the <b>breath</b> (mouthpiece). which settings are used depends on whether you currently have Bag or Breath selected in the main Note Trigger and Register Control panel (the currently selected group of settings are surrounded by a white box).
                     The variables that are most likely to need adjustment are located near the top. Clicking the <b>Bag defaults</b> button will restore the default bag settings for all variables in the panel, and clicking the <b>Breath defaults</b> button will restore the default settings for breath. Units are not shown for some of these settings because they use arbitrary units.
                  </p>
                  <p>
                     <b>Threshold</b> represents how much pressure is required to move from the first register to the second register. Increasing this setting gives you more control over the registers but also makes it require more breath or bag pressure to overblow.
                  </p>
                  <p>
                     With wind instruments that respond to overblowing, it typically requires more pressure to move to the second register from higher notes in the scale than it does from lower notes in the scale. The <b>Multiplier</b> setting controls how pronounced this difference is. Again, increasing this setting can give you better control over the register, especially if using a bag, but will also increase the pressure required to reach the second register, from higher notes in the scale in particular.
                  </p>
                  <p>
                     <b>Note:</b> Setting both <b>Threshold</b> and <b>Multiplier</b> too high can make it impossible to reach the highest notes in the second register because the pressure sensor is saturated, i.e. it has reached the highest pressure it can detect. If you find that you cannot reach the highest notes in the second register, try reducing one or both of these settings slightly.
                  </p>
                  <p>
                     <b>Hysteresis</b> causes it to be slightly easier to stay in the second register than it is to initially reach that register. In other words, the pressure threshold for moving up to the second register is slightly higher than the threshold for moving back down. This is how real wind instruments behave.
                  </p>
                  <p>
                     WARBL has the ability to <b>"jump"</b> directly from silence to the second register or to <b>"drop"</b> directly from the second register to silence. Thus, by blowing forcefully (particularly by "tonguing" a note), you can begin playing in the second register without first playing a brief note in the first register. Similarly, by cutting off air pressure suddenly, you can drop directly from the second register to silence. WARBL does this by waiting a small amount of time for a register threshold to be crossed or for the pressure to level off, to detect the player's intent. Increasing the <b>Jump time</b> setting makes it easier to move directly to the second register by increasing the amount of time that WARBL waits to determine the intent of the user. Increasing the <b>Drop time</b> has a similar effect for moving directly from the second register to silence.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal12" onClick="" class="modal-window">
            <div id="modal-center12">
               <h2 title="Close" onClick="modalclose(12)" class="modal-close">Close</h2>
               <h1>Pressure mapping</h1>
               <div>
                  <p>
                     This was known as the "Expression" panel in earlier versions of the Configuration Tool. It allows mapping of breath (or bagpipe bag) pressure to various MIDI messages.
                  </p>
                  <p>
                     Turning on the <b>Force Max Velocity</b> switch will cause WARBL to always send notes with a velocity of 127 (the maximum allowed), which will allow maximum volume from MIDI apps. Some more sophisticated apps interpret high velocity in ways that also affect the timbre of notes, or various other effects. If this is the case, you may want to uncheck this switch, which will cause WARBL to send notes with a velocity of 64 (the middle of the allowed range). The switch has no effect if the <b>"Send Pressure as Velocity"</b> (below) is selected.
                  </p>
                  <p>
                     Turning on the <b>Pitch expression</b> switch will cause WARBL to send pitch bend messages based on pressure. This means that for a given note, blowing (or squeezing a bag) gently will cause the note to play slightly flat, while blowing with excess force will cause it to be slightly sharp. This is meant to simulate the way that pressure is used to fine-tune the pitch of real instruments, and can make WARBL sound more lifelike. The <b>Expression depth</b> slider controls the amount of pitch bend, and on firmware 4.3 and above on the WARBL2 the <b>Center Pressure</b> control lets you set the preferred blowing pressure where the pitch is centered.  The pitch bend is added to any that is contributed by vibrato and slide, so they can all be used simultaneously. If overblowing is not being used, you have the option of changing the default pressure range used for Expression by clicking the <b>Override...</b> button. On firmware 4.3 and above on the WARBL2, the pitch expression override controls are much more advanced, letting you control exactly how the bend responds to pressure.
                  </p>
                  <p>
                     WARBL also has the ability to map pressure sensor values to a MIDI Continuous Controller (CC) note-on velocity, channel pressure, and key pressure, allowing it to function as a MIDI breath controller. These are advanced settings and not needed by many WARBL users. An example would be to send pressure data to CC 7 to control the volume of notes with pressure. The <b>"Send Pressure as Velocity"</b> option overrides the <b>"Force Max Velocity"</b> switch (above).
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal13" onClick="" class="modal-window">
            <div id="modal-center13">
               <h2 title="Close" onClick="modalclose(13)" class="modal-close">Close</h2>
               <h1>Drones Control</h1>
               <div>
                  <p>
                     WARBL makes it possible to control drones in MIDI bagpipe host apps by assigning commands for turning the drones on and off, and then choosing from a few methods for sending those commands. You can choose to send either Note On, Note Off, or CC messages, assigning the channel, byte 2, and byte 3. For Note On and Note Off messages, byte 2 is a MIDI note number and byte 3 is velocity. For CC messages, byte 2 is the CC number and byte 3 is the value. 
                  </p>
                  <p>
                     The commands used for turning drones on and off will depend on the MIDI host app. For example, the Celtic Sounds app uses a Note On command both for turning drones on and turning them off. In some apps such as Universal Piper, you can choose which command you'll use to control the drones.
                  </p>
                  <p>
                     To assign a specific button action to control the drones, select <b>No drone control</b> but then assign a button action to <b>Turn drones on/off</b> in the <b>Button Behavior</b> panel.
                  </p>
                  <p>
                     Choosing <b>Use secret button</b> will allow you to turn the drones on and off by pressing button 1 while covering the right-hand index-finger hole.
                  </p>
                  <p>
                     Choosing <b>Turn on/off with chanter</b> will cause the drones to be on whenever the chanter is playing. This will be true no matter how you control the chanter, so will work in <b>bagless mode</b> as well as using the pressure sensor.
                  </p>
                  <p>
                     Selecting <b>Pressure</b> will turn the drones on and off at a given pressure threshold, so, for example, you can mimic real bagpipes by having the drones come on at a baseline pressure and the chanter come on at a higher pressure. You can either <b>"learn"</b> the pressure or enter it manually, as with the note trigger pressure.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal14" onClick="" class="modal-window">
            <div id="modal-center14">
               <h1></h1>
               <div id="modal14-title"></div>
               <div class="modal-footer">
                  <button type="button" id="modal14-ok" class="smallbutton noTouch okaySingle" onClick="modalclose(14)">OK</button>
               </div>
            </div>
         </div>
         <div id="open-modal15" onClick="" class="modal-window">
            <div id="modal-center15">
               <h2 title="Close" onClick="modalclose(15)" class="modal-close">Close</h2>
               <h1>Preset Import/Export</h1>
               <div>
                  <p>
                     Use the Preset Import and Export button to exchange your WARBL instrument settings with other users or to archive an instrument setting for later import back into the WARBL Configuration Tool.
                  </p>
                  <p>
                     These features are only available when the WARBL is connected.
                  </p>
                  <p>
                     WARBL settings for the currently selected instrument may be exported to a file using the <b>Export Preset</b> button.
                  </p>
                  <p>
                     The exported file will be named "WARBL_Preset.warbl" and can be found in the "Downloads" directory on your computer. If there is already an existing export file in that directory, Chrome will save the file with incrementing numbers after the "WARBL_Preset" name.
                  </p>
                  <p>
                     To load an existing WARBL preset file into the current instrument tab, click the <b>Import Preset</b> file selector button.
                  </p>
                  <p>
                     Select a .warbl settings file from your computer to import. The imported data will be loaded into your WARBL, but not saved permanently to allow you to make additional changes if desired.
                  </p>
                  <p>
                     To permanently save the settings for the current instrument in your WARBL, click the "Save settings for the current instrument" button at the top of the screen.
                  </p>
                  <p>
                     <b>Note:</b> It is not possible to import settings from an original WARBL to a WARBL2 or vice versa because they use different commands for communicating with the Configuration Tool.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal16" onClick="" class="modal-window">
            <div id="modal-center16">
               <h2 title="Close" onClick="modalclose(16)" class="modal-close">Close</h2>
               <h1>Pressure Graph</h1>
               <div>
                  <p>
                     Use the pressure graph to view the WARBL pressure sensor readings in inches of H2O over time.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal18" onClick="" class="modal-window">
            <div id="modal-center18">
               <h2 title="Close" onClick="modalclose(18)" class="modal-close">Close</h2>
               <h2 title="Clear" onClick="clearConsole()" class="modal-close" id="clear">Clear</h2>
               <h1 class="consoleLabel">MIDI Console</h1>
               <div>
                  <p>
                  <div class="console" id="console"></div>
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal19" onClick="" class="modal-window">
            <div id="modal-center19">
               <h2 title="Close" onClick="modalclose(19)" class="modal-close">Close</h2>
               <h1>Custom Fingering Configuration</h1>
               <div>
                  <p>
                     WARBL2 has the ability to store up to four completely customizable fingering charts. Each chart contains MIDI notes for every possible combination of the 8 tone holes (the bell sensor is not used). There are 256 such possible combinations. 
                  </p>
                  <p>
                     You will be pasting a list of 256 MIDI notes into the field at the left. To create your custom fingering chart, there is a special Google Sheet available. There is a link for the sheet on the WARBL Documentation page, and there is more information about how to use it in the User Manual and on the Videos page. You don't have to use this sheet but it helps simplify the process of making a chart. You'll need to save your own copy of the sheet so you can edit it.
                  </p>
                  <p>
                     Once you have made your list of MIDI note numbers, paste the values into the field at the left. Next, select one of four custom charts in the center dropdown menu as the location for saving a chart (if you have previously saved a chart in this same location it will be overwritten). It will take several seconds to load the new chart onto the WARBL2. After you have done this, click <b>Back</b> and then select your custom chart from the Fingering Pattern dropdown menu (and save changes if desired).
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal20" onClick="" class="modal-window">
            <div id="modal-center20">
               <h2 title="Close" onClick="modalclose(20)" class="modal-close">Close</h2>
               <h1>Pitch Expression Pressure-Range Override</h1>
               <div>
                  <p>
                     By turning on the <b>Override pitch expression range</b> switch and using the sliders, you can override the default pressure range used for pitch expression. This is not available if overblowing is being used, because in that case the pressure range has to be calculated in real time based on the current register and overblowing settings. 
                  </p>
                  <p>
                  With the original WARBL, there is a single slider for controlling the pressure range used for pitchbend. 
                  </p>
                  <p>
                    With the WARBL2 (firmware 4.3 or higher), the pitch expression based on pressure is controlled with two segments:
                    <ul> 
                        <li>A low pressure range, whose min and max input pressure determine a bend along with the low range output bend, from no pressure to the low range max pressure (it will start at the bend amount specified in the low range output bend and end at no bend).
                        <li> A high pressure range, whose min and max input pressure determine a bend along with the high range output bend, from the high range min pressure to the high range max pressure (it will start with no bend at the high range min input pressure, and end up with the bend specified in the high range output bend). If the pressure exceeds the high range max input pressure, it will either be clamped at the specified bend amount (if <b>clamp upper bend</b> is on), or it will continue with the same bend slope with more pressure.
                    </ul>
                    The low and high ranges will not overlap. Any gap between the low range max, and the high range min will be a stable portion of the pressure range where no pitch bend occurs from this expression. You can see exactly how input pressure maps to output bend in cents with the interactive meters for both input pressure and output bend which are behind each pair of sliders.       
                  </p>
				<p>
The <b>Curve low</b> and <b>Curve high</b> sliders determine the curve for mapping the low and high pressure ranges to pitchbend. The value shown represents the exponent of the power equation used for mapping. Linear mapping will be used if the slider is positioned at "1.00".
				</p>
               </div>
            </div>
         </div>
         <div id="open-modal21" onClick="" class="modal-window">
            <div id="modal-center21">
               <h2 title="Close" onClick="modalclose(21)" class="modal-close">Close</h2>
               <h1>Pressure Mapping</h1>
               <div>
                  <p>
                     The input pressure range can be mapped to the output (CC, velocity, channel pressure, or key pressure) range using one of three curves: linear, a power curve (curve 2), or an inverse power curve (curve 3). Adjusting the sliders controls which portion of the overall breath/bag pressure is mapped to which portion of the possible MIDI output range of 0-127.
                  </p>
                  <p>        
                     The input pressure range can be mapped to the output (CC, velocity, channel pressure, or key pressure) range using one of three curves: linear, a power curve (curve 2), or an inverse power curve (curve 3). Adjusting the sliders controls which portion of the overall breath/bag pressure is mapped to which portion of the possible MIDI output range of 0-127. When mapping pressure to CC you can choose a CC channel and CC number. Also note that the WARBL will only be sending those messages if the corresponding switch in the main Pressure Mapping panel is turned on.
                  </p>
                  <p>  
                     The <b>Received value</b> field and bar at the bottom show the MIDI messages received from the WARBL2 that correspond to the current panel. For example, if you are mapping breath pressure to CC 7 on channel 1, the display will show only those specific messages. Also, note that the WARBL will only send messages if the corresponding switch in the main panel is turned on.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal22" onClick="" class="modal-window">
            <div id="modal-center22">
               <h1></h1>
               <div>Overwrite existing entries?</div>
               <div class="modal-footer">
                  <button type="submit" class="smallbutton noTouch okay" onClick="sendCustomFingeringFill()">OK</button>
                  <button type="button" class="smallbutton noTouch cancel" onClick="modalclose(22)">Cancel</button>
               </div>
            </div>
         </div>
         <div id="open-modal23" onClick="" class="modal-window">
            <div id="modal-center23">
               <h2 title="Close" onClick="modalclose(23)" class="modal-close">Close</h2>
               <h1>WARBL2 Settings</h1>
               <div>
                  <p>
                     This panel contains information and settings specific to WARBL2. Changes to this panel are saved immediately; it is not necessary to "save settings for the current instrument", and as with sensor calibration, these settings apply to the entire device rather than one specific instrument.
                  </p>
                  <p>
                     The <b>battery voltage</b> is shown as a convenience, but the <b>percentage monitor</b> on the far right is usually a more reliable indicator of charge level. As mentioned previously, it is an estimate and becomes more accurate after letting the battery run all the way down (until the WARBL2 powers off) and then charging fully. When charging, a charging icon is shown next to the percentage monitor. If the charging icon is blinking, it may be an indicator of a battery fault such as very low or high temperatures or a battery that is too old to charge.           
                  </p>
                  <p>
                     The BLE status is shown in the bottom left. When connected by BLE it will show the connection interval in milliseconds. 
                  </p>
                  <p>
                     If the WARBL2 is connected to both BLE and USB, you can choose whether to send MIDI data over either or both connections. If only one connection is available, that connection will be used regardless of this setting. The WARBL2 will also communicate with the Configuration Tool by all available connections regardless of this setting.
                  </p>
                  <p>
                     The WARBL2 can be charged from any USB host (for example PC, Mac, tablet, or phone) or from a USB charging brick. Charging from a USB host can be turned off, which is recommended if you are using USB MIDI and the WARBL2 is often connected to a host. This will help save the battery of your host device.
                  </p>
                  <p>
                     To save battery life, the WARBL2 will shut down automatically after some time if no MIDI notes have been sent or commands have been received from the Configuration Tool. You can adjust the power off time from 1 to 20 minutes. You can also assign a button action to power off the WARBL2 in the Button Behavior panel.
                  </p>
                  <p>
                     The gyroscope is calibrated when the WARBL2 is made, but you may wish to calibrate it again occasionally (especially if the roll and elevation seem to drift slightly when the WARBL2 is stationary). To do this, set the WARBL2 on a stationary surface and click <b>Calibrate Gyro</b> . If you are using IMU yaw to send MIDI data, you can recenter the yaw by clicking the button. You can also assign a button action to recentering the yaw in the Button Behavior panel, and there is also an option in the Yaw Mapping panel to automatically recenter the yaw when there is a break in notes.
                  </p>
               </div>
            </div>
         </div>
         <div id="open-modal24" onClick="" class="modal-window">
            <div id="modal-center24">
               <h1></h1>
               <div>Are you sure you want to overwrite the existing chart?</div>
               <div class="modal-footer">
                  <button type="submit" class="smallbutton noTouch okay" onClick="sendWARBL2CustomFingeringFill()">OK</button>
                  <button type="button" class="smallbutton noTouch cancel" onClick="modalclose(24)">Cancel</button>
               </div>
            </div>
         </div>
         <div id="open-modal25" onClick="" class="modal-window">
            <div id="modal-center25">
               <h1></h1>
               <div id="sending">Sending...</div>
               <button type="button" class="smallbutton noTouch okay" onClick="modalclose(25)" id="WARBL2CustomSuccessOkay">Okay</button>
            </div>
         </div>
      </div>
      <div id="open-modal26" onClick="" class="modal-window">
         <div id="modal-center26">
            <h2 title="Close" onClick="modalclose(26)" class="modal-close">Close</h2>
            <h1>IMU Mapping</h1>
            <div>
               <p>
                  The Inertial Measurement Unit (IMU) continuously tracks acceleration and  angular rotation in three dimensions. This information is converted to roll, elevation angle ("pitch"), and yaw, which can be then mapped to MIDI messages. 
               </p>
               <p>
                  There is also an option to play pitchbend vibrato by shaking the WARBL2 along its long axis. You can adjust the amount of <b>shake vibrato</b> and also select the "direction" of pitchbend: selecting <b>up/down</b> means that the pitch will be altered both above and below the normal pitch for the note, corresponding to the direction of movement of the WARBL2. <b>Down/up</b> has the same effect but opposite the direction of the movement of the device. <b>Up only</b> causes the pitch to only be raised above the current note, and <b>down only</b> causes the pitch to only be flattened.
               </p>
               <p>
                  To map <b>roll, elevation, or yaw to CC messages</b>, turn on the appropriate switch and then click <b>Map</b>.
               </p>
            </div>
         </div>
      </div>
      <div id="open-modal27" onClick="" class="modal-window">
         <div id="modal-center27">
            <h2 title="Close" onClick="modalclose(27)" class="modal-close">Close</h2>
            <h1>Roll, Elevation, Yaw Mapping</h1>
            <div>
               <p>
                  This panel allows you to  select the input roll, elevation, or yaw range as well as the range of output CC values. At the bottom there is a readout and bar that will display CC messages received from the WARBL2 that match the current settings in the panel (note that the switch on the previous panel must also be turned on to cause the WARBL2 to actually send any messages). For mapping the roll and yaw, there is an option to <b>center the input range</b>, which ties the input sliders together to keep the input range centered on zero.
               </p>
               <p>
                  Note that it is possible to reverse the output range of the IMU mapping by moving the output sliders past each other as shown below. When the output sliders are reversed that are connected by a yellow bar as shown.
               </p>
               <p>
                  The yaw has a tendency to drift slightly over time, so you may want to occasionally <b>recenter the yaw</b> (set it to zero). It is also often desirable to recenter the yaw depending on the rotation of your body. There are three ways to recenter the yaw: There is a button in the WARBL2 Settings panel to recenter it instantly, you can assign a button action to recenter it (see the Button Behavior panel documentation), or you can use the <b>auto-center yaw option</b> in the yaw mapping panel. The auto-center yaw option will reset the yaw to zero when you begin playing after a pause of a certain length of time. You can choose the length of the pause with the <b>Minimum pause slider</b>.
               </p>
            </div>
         </div>
      </div>
      <div id="open-modal28" onClick="" class="modal-window">
         <div id="modal-center28">
            <h2 title="Close" onClick="modalclose(28)" class="modal-close">Close</h2>
            <h1>Pressure and IMU Mapping</h1>
            <div>
               <p>
                  Breath pressure and IMU (gyroscope and accelerometer) data can be mapped to various MIDI messages. Click on <b>Pressure mapping…</b> or <b>IMU mapping…</b> to see the options.
               </p>
            </div>
         </div>
      </div>
      <div id="open-modal29" onClick="" class="modal-window">
         <div id="modal-center29">
            <h2 title="Close" onClick="modalclose(29)" class="modal-close">Close</h2>
            <h1>Control Register with IMU Elevation</h1>
            <div>
               <p>
                  This panel allows you to control the register using the IMU elevation angle. You can choose the total <b>number of registers</b> and the <b>input elevation range</b>. The normal playing range (based on the "transpose" setting) will be in the middle of the range and you will be able to play up to two registers above and below that range. If overblowing is also enabled you will be able to use both methods of register control simultaneously.
               </p>
            </div>
         </div>
      </div>
      <div id="open-modal30" onClick="" class="modal-window">
         <div id="modal-center30">
            <h2 title="Close" onClick="modalclose(30)" class="modal-close">Close</h2>
            <h1>Custom Fingering Configuration</h1>
            <div>
               <p>
                  These controls are for creating a custom fingering chart based on a simple pattern of finger positions that are similar to those used for tin whistle, flute, recorder, and many other wind instruments. This can be useful for creating special scales, for example a mixolydian or blues scale, or arpeggios, that are difficult to play on an acoustic instrument or with other existing fingering patterns. You may also be able to emulate real instruments that aren't available in the standard fingering patterns. To use the custom chart, be sure to choose "Custom" for the fingering pattern.       
               </p>
               <p>
                  You can enter any MIDI note (from 0-127) for each fingering pattern. Tone holes shown in gray will be ignored, so for most patterns only the highest uncovered tone hole is used to determine the note. There are also a few cross-fingering patterns, which can be used for accidentals. To have WARBL ignore any pattern in the chart, simply repeat the MIDI note from the next highest note in the chart. To have WARBL ignore the left thumb hole, enter a value of "0" for that pattern (the top one in the list). 
               </p>
               <p>
                  By turning on the <b>Use both thumb and overblowing for register control</b> switch, it is possible to play three registers by using a combination or overblowing and the left thumb. Then, if you have selected either <b>2. Overblow</b> or <b>3. Thumb register</b>  in the <b>Note Trigger and Register Control</b> panel, both will be used to give a combined range of three registers. As with other fingering patterns, you can also use the <b>Invert thumb/bell</b> switch to reverse the thumb functionality so that covering the hole raises the register instead of vice versa.
               </p>
               <p>
                  You can choose to use the right fourth finger (pinky) to flatten any note one semitone. If this switch is turned on, the MIDI note assigned to the bottom entry in the chart will be ignored.
               </p>
               <p>
                  It is also possible to fill the chart with presets listed in the dropdown menu. More of these options will continue to be added.	
               </p>
               <p>
                  <b>Note:</b> If you are using a custom fingering chart, the default in the <b>Key</b> dropdown menu will be D, but you can still change keys. Any key change will be relative to the default key of D. For example, choosing the key of E will transpose all notes in your custom chart up two semitones.
               </p>
            </div>
         </div>
      </div>
      </div>
   </body>
   <script src="js/jquery-3.3.1.min.js"></script>
   <script src="js/nouislider.js"></script>
   <script>
      var slider = document.getElementById('slider');
      noUiSlider.create(slider, {
          start: [0, 100],
          step: 1,
          connect: false,
          range: {
              'min': 0,
              'max': 100
          }
      });
      
   </script>
   <script>
      var slider2 = document.getElementById('slider2');
      noUiSlider.create(slider2, {
          start: [0, 127],
          step: 1,
          connect: false,
          range: {
              'min': 0,
              'max': 127
          }
      });
      
   </script>
   <script>
      var exprlowslider = document.getElementById('exprlowslider');
      noUiSlider.create(exprlowslider, {
          start: [0, 7.08],
          step: 1,
          connect: true,
          range: {
              'min': 0,
              'max': 100
          }
      });
      
   </script>
   <script>
      var exprhighslider = document.getElementById('exprhighslider');
      noUiSlider.create(exprhighslider, {
          start: [10.83, 20],
          step: 1,
          connect: true,
          range: {
              'min': 0,
              'max': 100
          }
      });
      
   </script>
   <script>
      var exprlowbendslider = document.getElementById('exprlowbendslider');
      noUiSlider.create(exprlowbendslider, {
          start: [39, 64],
          step: 1,
          connect: true,
          behaviour: "unconstrained-tap",
          range: {
              'min': 0,
              'max': 127
          }
      });
   </script>
   <script>
      var exprhighbendslider = document.getElementById('exprhighbendslider');
      noUiSlider.create(exprhighbendslider, {
          start: [114, 64],
          step: 1,
          connect: true,
          behaviour: "unconstrained-tap",
          range: {
              'min': 0,
              'max': 127
          }
      });
   </script>
   <script>
      var slider4 = document.getElementById('slider4');
      noUiSlider.create(slider4, {
          start: [0, 127],
          //direction: 'rtl',
          step: 1,
          behaviour: "unconstrained-tap",
          connect: true,
          range: {
              'min': 0,
              'max': 127
          }
      });
      
   </script>
   <script>
      var slider5 = document.getElementById('slider5');
      noUiSlider.create(slider5, {
          start: [-90, 90],
          step: 5,
          connect: false,
          range: {
              'min': -90,
              'max': 90
          }
      });
      
   </script>
   <script>
      var slider6 = document.getElementById('slider6');
      noUiSlider.create(slider6, {
          start: [-90, 90],
          step: 5,
          connect: false,
          range: {
              'min': -90,
              'max': 90
          }
      });
      
   </script>
   <script src='js/WebAudioFontPlayer.js'></script>
   <script src='js/0650_SBLive_sf2.js'></script>
   <script src="js/constants.min.js"></script>
   <script src="js/midi.min.js"></script>
   <script src="js/d3.min.js"></script>
   <script src="js/daypilot-modal.min-3.10.1.js"></script>
   <script src="js/update.js"></script>
</html>
